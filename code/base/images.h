//TIMS

extern unsigned long _binary_images_GUI_overlay_MMLIL_tim_start[];
extern unsigned long _binary_images_GUI_overlay_MMLIL_tim_end[];
extern unsigned long _binary_images_GUI_overlay_MMLIL_tim_length;

extern unsigned long _binary_images_BG_LILSPLASH_tim_start[];
extern unsigned long _binary_images_BG_LILSPLASH_tim_end[];
extern unsigned long _binary_images_BG_LILSPLASH_tim_length;

extern unsigned long _binary_images_BG_LILSPLASH2_tim_start[];
extern unsigned long _binary_images_BG_LILSPLASH2_tim_end[];
extern unsigned long _binary_images_BG_LILSPLASH2_tim_length;

extern unsigned long _binary_images_BG_SPLASHBROKEN_tim_start[];
extern unsigned long _binary_images_BG_SPLASHBROKEN_tim_end[];
extern unsigned long _binary_images_BG_SPLASHBROKEN_tim_length;

extern unsigned long _binary_images_GUI_LOGOLITTLE_tim_start[];
extern unsigned long _binary_images_GUI_LOGOLITTLE_tim_end[];
extern unsigned long _binary_images_GUI_LOGOLITTLE_tim_length;

extern unsigned long _binary_images_GUI_LILPARTI_tim_start[];
extern unsigned long _binary_images_GUI_LILPARTI_tim_end[];
extern unsigned long _binary_images_GUI_LILPARTI_tim_length;

extern unsigned long _binary_images_GUI_MENUBGLIL_tim_start[];
extern unsigned long _binary_images_GUI_MENUBGLIL_tim_end[];
extern unsigned long _binary_images_GUI_MENUBGLIL_tim_length;

extern unsigned long _binary_images_GUI_NATSULIL_tim_start[];
extern unsigned long _binary_images_GUI_NATSULIL_tim_end[];
extern unsigned long _binary_images_GUI_NATSULIL_tim_length;

extern unsigned long _binary_images_GUI_SAYOLIL_tim_start[];
extern unsigned long _binary_images_GUI_SAYOLIL_tim_end[];
extern unsigned long _binary_images_GUI_SAYOLIL_tim_length;

extern unsigned long _binary_images_GUI_MONILIL_tim_start[];
extern unsigned long _binary_images_GUI_MONILIL_tim_end[];
extern unsigned long _binary_images_GUI_MONILIL_tim_length;

extern unsigned long _binary_images_GUI_YULIL_tim_start[];
extern unsigned long _binary_images_GUI_YULIL_tim_end[];
extern unsigned long _binary_images_GUI_YULIL_tim_length;

extern unsigned long _binary_images_GUI_special_SAYOHANGING_tim_start[];
extern unsigned long _binary_images_GUI_special_SAYOHANGING_tim_end[];
extern unsigned long _binary_images_GUI_special_SAYOHANGING_tim_length;

extern unsigned long _binary_images_GUI_special_SAYOHANGING2_tim_start[];
extern unsigned long _binary_images_GUI_special_SAYOHANGING2_tim_end[];
extern unsigned long _binary_images_GUI_special_SAYOHANGING2_tim_length;

extern unsigned long _binary_images_GUI_TEXTBOXLIL_tim_start[];
extern unsigned long _binary_images_GUI_TEXTBOXLIL_tim_end[];
extern unsigned long _binary_images_GUI_TEXTBOXLIL_tim_length;

extern unsigned long _binary_images_text_new_tim_start[];
extern unsigned long _binary_images_text_new_tim_end[];
extern unsigned long _binary_images_text_new_tim_length;

extern unsigned long _binary_images_text_newselected_tim_start[];
extern unsigned long _binary_images_text_newselected_tim_end[];
extern unsigned long _binary_images_text_newselected_tim_length;

extern unsigned long _binary_images_text_MAINMENU_tim_start[];
extern unsigned long _binary_images_text_MAINMENU_tim_end[];
extern unsigned long _binary_images_text_MAINMENU_tim_length;

extern unsigned long _binary_images_text_MAINMENUSELECTED_tim_start[];
extern unsigned long _binary_images_text_MAINMENUSELECTED_tim_end[];
extern unsigned long _binary_images_text_MAINMENUSELECTED_tim_length;

extern unsigned long _binary_images_text_setting_tim_start[];
extern unsigned long _binary_images_text_setting_tim_end[];
extern unsigned long _binary_images_text_setting_tim_length;

extern unsigned long _binary_images_text_settingselected_tim_start[];
extern unsigned long _binary_images_text_settingselected_tim_end[];
extern unsigned long _binary_images_text_settingselected_tim_length;

extern unsigned long _binary_images_text_LoadGame_tim_start[];
extern unsigned long _binary_images_text_LoadGame_tim_end[];
extern unsigned long _binary_images_text_LoadGame_tim_length;

extern unsigned long _binary_images_text_LoadGameselected_tim_start[];
extern unsigned long _binary_images_text_LoadGameselected_tim_end[];
extern unsigned long _binary_images_text_LoadGameselected_tim_length;

extern unsigned long _binary_images_text_SaveGame_tim_start[];
extern unsigned long _binary_images_text_SaveGame_tim_end[];
extern unsigned long _binary_images_text_SaveGame_tim_length;

extern unsigned long _binary_images_text_SaveGameselected_tim_start[];
extern unsigned long _binary_images_text_SaveGameselected_tim_end[];
extern unsigned long _binary_images_text_SaveGameselected_tim_length;

extern unsigned long _binary_images_text_END_tim_start[];
extern unsigned long _binary_images_text_END_tim_end[];
extern unsigned long _binary_images_text_END_tim_length;

extern unsigned long _binary_images_GUI_poemgame_N_STICKER_1LIL_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_N_STICKER_1LIL_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_N_STICKER_1LIL_tim_length;

extern unsigned long _binary_images_GUI_poemgame_N_STICKER_2LIL_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_N_STICKER_2LIL_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_N_STICKER_2LIL_tim_length;

extern unsigned long _binary_images_GUI_poemgame_S_STICKER_1LIL_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_S_STICKER_1LIL_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_S_STICKER_1LIL_tim_length;

extern unsigned long _binary_images_GUI_poemgame_S_STICKER_2LIL_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_S_STICKER_2LIL_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_S_STICKER_2LIL_tim_length;

extern unsigned long _binary_images_GUI_poemgame_Y_STICKER_1LIL_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_Y_STICKER_1LIL_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_Y_STICKER_1LIL_tim_length;

extern unsigned long _binary_images_GUI_poemgame_Y_STICKER_2LIL_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_Y_STICKER_2LIL_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_Y_STICKER_2LIL_tim_length;

extern unsigned long _binary_images_GUI_poemgame_M_STICKER_1_tim_start[];
extern unsigned long _binary_images_GUI_poemgame_M_STICKER_1_tim_end[];
extern unsigned long _binary_images_GUI_poemgame_M_STICKER_1_tim_length;

extern unsigned long _binary_images_GUI_NAMEBOXLIL_tim_start[];
extern unsigned long _binary_images_GUI_NAMEBOXLIL_tim_end[];
extern unsigned long _binary_images_GUI_NAMEBOXLIL_tim_length;

extern unsigned long _binary_images_characters_Sayori_1L_tim_start[];
extern unsigned long _binary_images_characters_Sayori_1L_tim_end[];
extern unsigned long _binary_images_characters_Sayori_1L_tim_length;

extern unsigned long _binary_images_characters_Sayori_1R_tim_start[];
extern unsigned long _binary_images_characters_Sayori_1R_tim_end[];
extern unsigned long _binary_images_characters_Sayori_1R_tim_length;

extern unsigned long _binary_images_characters_Sayori_C_tim_start[];
extern unsigned long _binary_images_characters_Sayori_C_tim_end[];
extern unsigned long _binary_images_characters_Sayori_C_tim_length;

extern unsigned long _binary_images_characters_Sayori_A_tim_start[];
extern unsigned long _binary_images_characters_Sayori_A_tim_end[];
extern unsigned long _binary_images_characters_Sayori_A_tim_length;

extern unsigned long _binary_images_characters_Sayori_P_tim_start[];
extern unsigned long _binary_images_characters_Sayori_P_tim_end[];
extern unsigned long _binary_images_characters_Sayori_P_tim_length;

extern unsigned long _binary_images_characters_Sayori_Q_tim_start[];
extern unsigned long _binary_images_characters_Sayori_Q_tim_end[];
extern unsigned long _binary_images_characters_Sayori_Q_tim_length;

extern unsigned long _binary_images_characters_Sayori_H_tim_start[];
extern unsigned long _binary_images_characters_Sayori_H_tim_end[];
extern unsigned long _binary_images_characters_Sayori_H_tim_length;

extern unsigned long _binary_images_characters_Sayori_G_tim_start[];
extern unsigned long _binary_images_characters_Sayori_G_tim_end[];
extern unsigned long _binary_images_characters_Sayori_G_tim_length;

extern unsigned long _binary_images_characters_Sayori_R_tim_start[];
extern unsigned long _binary_images_characters_Sayori_R_tim_end[];
extern unsigned long _binary_images_characters_Sayori_R_tim_length;

extern unsigned long _binary_images_characters_Sayori_U_tim_start[];
extern unsigned long _binary_images_characters_Sayori_U_tim_end[];
extern unsigned long _binary_images_characters_Sayori_U_tim_length;

extern unsigned long _binary_images_characters_Sayori_W_tim_start[];
extern unsigned long _binary_images_characters_Sayori_W_tim_end[];
extern unsigned long _binary_images_characters_Sayori_W_tim_length;

extern unsigned long _binary_images_characters_Sayori_Y_tim_start[];
extern unsigned long _binary_images_characters_Sayori_Y_tim_end[];
extern unsigned long _binary_images_characters_Sayori_Y_tim_length;

extern unsigned long _binary_images_characters_Sayori_M_tim_start[];
extern unsigned long _binary_images_characters_Sayori_M_tim_end[];
extern unsigned long _binary_images_characters_Sayori_M_tim_length;

extern unsigned long _binary_images_characters_Sayori_N_tim_start[];
extern unsigned long _binary_images_characters_Sayori_N_tim_end[];
extern unsigned long _binary_images_characters_Sayori_N_tim_length;

extern unsigned long _binary_images_characters_Sayori_J_tim_start[];
extern unsigned long _binary_images_characters_Sayori_J_tim_end[];
extern unsigned long _binary_images_characters_Sayori_J_tim_length;

extern unsigned long _binary_images_characters_Sayori_2R_tim_start[];
extern unsigned long _binary_images_characters_Sayori_2R_tim_end[];
extern unsigned long _binary_images_characters_Sayori_2R_tim_length;

extern unsigned long _binary_images_characters_Sayori_2L_tim_start[];
extern unsigned long _binary_images_characters_Sayori_2L_tim_end[];
extern unsigned long _binary_images_characters_Sayori_2L_tim_length;

extern unsigned long _binary_images_characters_Yuri_1R_tim_start[];
extern unsigned long _binary_images_characters_Yuri_1R_tim_end[];
extern unsigned long _binary_images_characters_Yuri_1R_tim_length;

extern unsigned long _binary_images_characters_Yuri_1L_tim_start[];
extern unsigned long _binary_images_characters_Yuri_1L_tim_end[];
extern unsigned long _binary_images_characters_Yuri_1L_tim_length;

extern unsigned long _binary_images_characters_Yuri_2R_tim_start[];
extern unsigned long _binary_images_characters_Yuri_2R_tim_end[];
extern unsigned long _binary_images_characters_Yuri_2R_tim_length;

extern unsigned long _binary_images_characters_Yuri_2L_tim_start[];
extern unsigned long _binary_images_characters_Yuri_2L_tim_end[];
extern unsigned long _binary_images_characters_Yuri_2L_tim_length;

extern unsigned long _binary_images_characters_Yuri_A_tim_start[];
extern unsigned long _binary_images_characters_Yuri_A_tim_end[];
extern unsigned long _binary_images_characters_Yuri_A_tim_length;

extern unsigned long _binary_images_characters_Yuri_C_tim_start[];
extern unsigned long _binary_images_characters_Yuri_C_tim_end[];
extern unsigned long _binary_images_characters_Yuri_C_tim_length;

extern unsigned long _binary_images_characters_Yuri_E_tim_start[];
extern unsigned long _binary_images_characters_Yuri_E_tim_end[];
extern unsigned long _binary_images_characters_Yuri_E_tim_length;

extern unsigned long _binary_images_characters_Yuri_K_tim_start[];
extern unsigned long _binary_images_characters_Yuri_K_tim_end[];
extern unsigned long _binary_images_characters_Yuri_K_tim_length;

extern unsigned long _binary_images_characters_Yuri_N_tim_start[];
extern unsigned long _binary_images_characters_Yuri_N_tim_end[];
extern unsigned long _binary_images_characters_Yuri_N_tim_length;

extern unsigned long _binary_images_characters_Yuri_U_tim_start[];
extern unsigned long _binary_images_characters_Yuri_U_tim_end[];
extern unsigned long _binary_images_characters_Yuri_U_tim_length;

extern unsigned long _binary_images_characters_Yuri_V_tim_start[];
extern unsigned long _binary_images_characters_Yuri_V_tim_end[];
extern unsigned long _binary_images_characters_Yuri_V_tim_length;

extern unsigned long _binary_images_characters_Yuri_L_tim_start[];
extern unsigned long _binary_images_characters_Yuri_L_tim_end[];
extern unsigned long _binary_images_characters_Yuri_L_tim_length;

extern unsigned long _binary_images_characters_Yuri_F_tim_start[];
extern unsigned long _binary_images_characters_Yuri_F_tim_end[];
extern unsigned long _binary_images_characters_Yuri_F_tim_length;

extern unsigned long _binary_images_characters_Yuri_Q_tim_start[];
extern unsigned long _binary_images_characters_Yuri_Q_tim_end[];
extern unsigned long _binary_images_characters_Yuri_Q_tim_length;

extern unsigned long _binary_images_characters_Yuri_I_tim_start[];
extern unsigned long _binary_images_characters_Yuri_I_tim_end[];
extern unsigned long _binary_images_characters_Yuri_I_tim_length;

extern unsigned long _binary_images_characters_Yuri_W_tim_start[];
extern unsigned long _binary_images_characters_Yuri_W_tim_end[];
extern unsigned long _binary_images_characters_Yuri_W_tim_length;

extern unsigned long _binary_images_characters_Natsuki_1R_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_1R_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_1R_tim_length;

extern unsigned long _binary_images_characters_Natsuki_1L_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_1L_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_1L_tim_length;

extern unsigned long _binary_images_characters_Natsuki_2R_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_2R_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_2R_tim_length;

extern unsigned long _binary_images_characters_Natsuki_2L_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_2L_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_2L_tim_length;

extern unsigned long _binary_images_characters_Natsuki_3R_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_3R_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_3R_tim_length;

extern unsigned long _binary_images_characters_Natsuki_3L_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_3L_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_3L_tim_length;
/*
extern unsigned long _binary_images_characters_Natsuki_2R_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_2R_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_2R_tim_length;

extern unsigned long _binary_images_characters_Natsuki_2L_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_2L_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_2L_tim_length;
*/
extern unsigned long _binary_images_characters_Natsuki_A_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_A_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_A_tim_length;

extern unsigned long _binary_images_characters_Natsuki_C_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_C_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_C_tim_length;

extern unsigned long _binary_images_characters_Natsuki_D_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_D_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_D_tim_length;

extern unsigned long _binary_images_characters_Natsuki_E_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_E_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_E_tim_length;

extern unsigned long _binary_images_characters_Natsuki_S_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_S_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_S_tim_length;

extern unsigned long _binary_images_characters_Natsuki_K_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_K_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_K_tim_length;

extern unsigned long _binary_images_characters_Natsuki_G_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_G_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_G_tim_length;

extern unsigned long _binary_images_characters_Natsuki_O_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_O_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_O_tim_length;

extern unsigned long _binary_images_characters_Natsuki_M_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_M_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_M_tim_length;

extern unsigned long _binary_images_characters_Natsuki_P_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_P_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_P_tim_length;

extern unsigned long _binary_images_characters_Natsuki_U_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_U_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_U_tim_length;

extern unsigned long _binary_images_characters_Natsuki_V_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_V_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_V_tim_length;

extern unsigned long _binary_images_characters_Natsuki_X_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_X_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_X_tim_length;

extern unsigned long _binary_images_characters_Natsuki_Z_tim_start[];
extern unsigned long _binary_images_characters_Natsuki_Z_tim_end[];
extern unsigned long _binary_images_characters_Natsuki_Z_tim_length;

extern unsigned long _binary_images_characters_Monika_2L_tim_start[];
extern unsigned long _binary_images_characters_Monika_2L_tim_end[];
extern unsigned long _binary_images_characters_Monika_2L_tim_length;

extern unsigned long _binary_images_characters_Monika_1R_tim_start[];
extern unsigned long _binary_images_characters_Monika_1R_tim_end[];
extern unsigned long _binary_images_characters_Monika_1R_tim_length;

extern unsigned long _binary_images_characters_Monika_1L_tim_start[];
extern unsigned long _binary_images_characters_Monika_1L_tim_end[];
extern unsigned long _binary_images_characters_Monika_1L_tim_length;

extern unsigned long _binary_images_characters_Monika_2R_tim_start[];
extern unsigned long _binary_images_characters_Monika_2R_tim_end[];
extern unsigned long _binary_images_characters_Monika_2R_tim_length;

extern unsigned long _binary_images_characters_Monika_2L_tim_start[];
extern unsigned long _binary_images_characters_Monika_2L_tim_end[];
extern unsigned long _binary_images_characters_Monika_2L_tim_length;

extern unsigned long _binary_images_characters_Monika_A_tim_start[];
extern unsigned long _binary_images_characters_Monika_A_tim_end[];
extern unsigned long _binary_images_characters_Monika_A_tim_length;

extern unsigned long _binary_images_characters_Monika_B_tim_start[];
extern unsigned long _binary_images_characters_Monika_B_tim_end[];
extern unsigned long _binary_images_characters_Monika_B_tim_length;

extern unsigned long _binary_images_characters_Monika_D_tim_start[];
extern unsigned long _binary_images_characters_Monika_D_tim_end[];
extern unsigned long _binary_images_characters_Monika_D_tim_length;

extern unsigned long _binary_images_characters_Monika_E_tim_start[];
extern unsigned long _binary_images_characters_Monika_E_tim_end[];
extern unsigned long _binary_images_characters_Monika_E_tim_length;

extern unsigned long _binary_images_characters_Monika_P_tim_start[];
extern unsigned long _binary_images_characters_Monika_P_tim_end[];
extern unsigned long _binary_images_characters_Monika_P_tim_length;

extern unsigned long _binary_images_characters_Monika_K_tim_start[];
extern unsigned long _binary_images_characters_Monika_K_tim_end[];
extern unsigned long _binary_images_characters_Monika_K_tim_length;

extern unsigned long _binary_images_characters_Monika_R_tim_start[];
extern unsigned long _binary_images_characters_Monika_R_tim_end[];
extern unsigned long _binary_images_characters_Monika_R_tim_length;

extern unsigned long _binary_images_characters_Monika_L_tim_start[];
extern unsigned long _binary_images_characters_Monika_L_tim_end[];
extern unsigned long _binary_images_characters_Monika_L_tim_length;

extern unsigned long _binary_images_cg_N_CG1_EXP4LIL_tim_start[];
extern unsigned long _binary_images_cg_N_CG1_EXP4LIL_tim_end[];
extern unsigned long _binary_images_cg_N_CG1_EXP4LIL_tim_length;

TIM_IMAGE BGIMAGE;
TIM_IMAGE MainMenuoverlay;
TIM_IMAGE logosplash;
TIM_IMAGE gamelogo;
TIM_IMAGE Lilparticule;
TIM_IMAGE menuBG;
TIM_IMAGE menu_yuri;
TIM_IMAGE menu_monika;
TIM_IMAGE menu_sayori;
TIM_IMAGE sayori_hangingout;
TIM_IMAGE menu_natsuki;
TIM_IMAGE textbox;
TIM_IMAGE newgame;
TIM_IMAGE loadgame;
TIM_IMAGE savegame;
TIM_IMAGE settings;
TIM_IMAGE help;
TIM_IMAGE poemyuri;
TIM_IMAGE poemsayori;
TIM_IMAGE poemmonika;
TIM_IMAGE poemnatsuki;
TIM_IMAGE namebox;
TIM_IMAGE end;
TIM_IMAGE natsukidetails;

TIM_IMAGE Sayori;
TIM_IMAGE Monika;
TIM_IMAGE Yuri;
TIM_IMAGE Natsuki;

long polydepth;
long polyflag;
long OTz;

#define VMODE 0                 
#define SCREENXRES 320          
#define SCREENYRES 240          
#define CENTERX SCREENXRES/2    
#define CENTERY SCREENYRES/2    
#define MARGINX 30              
#define MARGINY 32
#define FONTSIZE 25 * 7          
DISPENV disp[2];                
DRAWENV draw[2];
short db = 0;       

#define OTLEN 8                    // Ordering Table Length 

u_long ot[2][OTLEN];               // double ordering table of length 8 * 32 = 256 bits / 32 bytes

char primbuff[2][32768];     // double primitive buffer of length 32768 * 8 =  262.144 bits / 32,768 Kbytes

char *nextpri = primbuff[0];       // pointer to the next primitive in primbuff. Initially, points to the first bit of primbuff[0]

#define COUNT_OF(x) (sizeof(x) / sizeof(0[x]))

//Poem
POLY_F4 *polypoem = {0};                        

SVECTOR RotVectorpoem = {0, 0, 0};               
VECTOR  MovVectorpoem = {-50, 150, CENTERX/2-10, 0};
VECTOR  ScaleVectorpoem = {ONE, ONE, ONE};       

SVECTOR VertPospoem[4] = {                         
        {-5, -62, 1 },                       
        {-5,  63, 1 },                       
        { 105, -62, 1 },                       
        { 105,  63, 1  }                        
    };        

MATRIX PolyMatrixpoem = {0}; 

//Monibody Left

POLY_FT4 *polymonibodyL = {0};

SVECTOR RotVectormonibodyL = {0, 0, 0};               
VECTOR  MovVectormonibodyL = {-30, -22, CENTERX/2-10, 0};
VECTOR  ScaleVectormonibodyL = {ONE, ONE, ONE};       

int moniposY = 0; //-1 is down, 1 is up, 0 is middle

SVECTOR VertPosmonibodyL[4] = {                       
        {-6, 0, 1 },                       
        {-6,  55, 1 },                       
        { 32, 0, 1 },                       
        { 32,  55, 1  }                        
    };       

MATRIX PolyMatrixmonibodyL = {0};

//monibody Right

POLY_FT4 *polymonibodyR = {0};

SVECTOR RotVectormonibodyR = {0, 0, 0};
VECTOR  ScaleVectormonibodyR = {ONE, ONE, ONE};       

SVECTOR VertPosmonibodyR[4] = {                       
        {32, 0, 1 },                       
        {32,  55, 1 },                       
        { 65, 0, 1 },                       
        { 65,  55, 1  }                       
    };       

MATRIX PolyMatrixmonibodyR = {0};

//Moni Head

POLY_FT4 *polymonihead = {0};

SVECTOR RotVectormonihead = {0, 0, 0};               
//VECTOR  MovVectorsayohead = {-13, -48, CENTERX/2-10, 0}; // See right at the top
VECTOR  ScaleVectormonihead = {ONE, ONE, ONE};       

SVECTOR VertPosmonihead[4] = {                       
        {17, -29, 1 },                       
        {17,  0, 1 },                       
        { 49, -29, 1 },                       
        { 49,  0, 1  }                        
    };       

MATRIX PolyMatrixmonihead = {0};

//Natsu Head

POLY_FT4 *polynatsuhead = {0};

SVECTOR RotVectornatsuhead = {0, 0, 0};               
//VECTOR  MovVectorsayohead = {-13, -48, CENTERX/2-10, 0}; // See right at the top
VECTOR  ScaleVectornatsuhead = {3762, 3762, 3762};       

SVECTOR VertPosnatsuhead[4] = {                       
        {10, -29, 1 },                       
        {10,  0, 1 },                       
        { 50, -29, 1 },                       
        { 50,  0, 1  }                        
    };       

MATRIX PolyMatrixnatsuhead = {0};

//Natsubody Left

POLY_FT4 *polynatsubodyL = {0};

SVECTOR RotVectornatsubodyL = {0, 0, 0};               
VECTOR  MovVectornatsubodyL = {-40, -10, CENTERX/2-10, 0};
VECTOR  ScaleVectornatsubodyL = {3762, 3762, 3762};       

int natsuposY = 0; //-1 is down, 1 is up, 0 is middle

SVECTOR VertPosnatsubodyL[4] = {                       
        {0, 0, 1 },                       
        {0,  55, 1 },                       
        { 30, 0, 1 },                       
        { 30,  55, 1  }                        
    };       

MATRIX PolyMatrixnatsubodyL = {0};

//natsubody Right

POLY_FT4 *polynatsubodyR = {0};

SVECTOR RotVectornatsubodyR = {0, 0, 0};               
//VECTOR  MovVectorsayobodyR = {2, -19, CENTERX/2-10, 0}; //You know why we don't use their vectors, only the left body's vector ? Simple, so that it can follow seamlessly without breaking apart (or adding 102 lines)
VECTOR  ScaleVectornatsubodyR = {3762, 3762, 3762};       

SVECTOR VertPosnatsubodyR[4] = {                       
        {30, 0, 1 },                       
        {30,  55, 1 },                       
        { 60, 0, 1 },                       
        { 60,  55, 1  }                       
    };       

MATRIX PolyMatrixnatsubodyR = {0};

//Sayobody Left

POLY_FT4 *polysayobodyL = {0};

SVECTOR RotVectorsayobodyL = {0, 0, 0};               
VECTOR  MovVectorsayobodyL = {-30, -19, CENTERX/2-10, 0};
VECTOR  ScaleVectorsayobodyL = {ONE, ONE, ONE};       

int sayoposY = 0; //-1 is down, 1 is up, 0 is middle
int sayoposZ = 0; //0 is normal, 1 is zoomed

SVECTOR VertPossayobodyL[4] = {                       
        {0, 0, 1 },                       
        {0,  55, 1 },                       
        { 32, 0, 1 },                       
        { 32,  55, 1  }                        
    };       

MATRIX PolyMatrixsayobodyL = {0};

//Sayobody Right

POLY_FT4 *polysayobodyR = {0};

SVECTOR RotVectorsayobodyR = {0, 0, 0};               
//VECTOR  MovVectorsayobodyR = {2, -19, CENTERX/2-10, 0}; //You know why we don't use their vectors, only the left body's vector ? Simple, so that it can follow seamlessly without breaking apart (or adding 102 lines)
VECTOR  ScaleVectorsayobodyR = {ONE, ONE, ONE};       

SVECTOR VertPossayobodyR[4] = {                       
        {32, 0, 1 },                       
        {32,  55, 1 },                       
        { 64, 0, 1 },                       
        { 64,  55, 1  }                       
    };       

MATRIX PolyMatrixsayobodyR = {0};

//Sayo Head

POLY_FT4 *polysayohead = {0};

SVECTOR RotVectorsayohead = {0, 0, 0};               
//VECTOR  MovVectorsayohead = {-13, -48, CENTERX/2-10, 0}; // See right at the top
VECTOR  ScaleVectorsayohead = {ONE, ONE, ONE};       

SVECTOR VertPossayohead[4] = {                       
        {15, -29, 10 },                       
        {15,  0, 10 },                       
        { 51, -29, 10 },                       
        { 51,  0, 10  }                        
    };       

MATRIX PolyMatrixsayohead = {0};

//Yuribody Left

POLY_FT4 *polyyuribodyL = {0};

SVECTOR RotVectoryuribodyL = {0, 0, 0};               
VECTOR  MovVectoryuribodyL = {-30, -22, CENTERX/2-10, 0};
VECTOR  ScaleVectoryuribodyL = {ONE, ONE, ONE};       

int yuriposY = 0; //-1 is down, 1 is up, 0 is middle

SVECTOR VertPosyuribodyL[4] = {                       
        {4, 0, 1 },                       
        {4,  67, 1 },                       
        { 22, 0, 1 },                       
        { 22,  67, 1  }                        
    };       

MATRIX PolyMatrixyuribodyL = {0};

//Yuribody Right

POLY_FT4 *polyyuribodyR = {0};

SVECTOR RotVectoryuribodyR = {0, 0, 0};     
VECTOR  ScaleVectoryuribodyR = {ONE, ONE, ONE};       

SVECTOR VertPosyuribodyR[4] = {                       
        {22, 0, 1 },                       
        {22,  68, 1 },                       
        { 63, 0, 1 },                       
        { 63,  68, 1  }                       
    };       

MATRIX PolyMatrixyuribodyR = {0};

//Yuri Head

POLY_FT4 *polyyurihead = {0};

SVECTOR RotVectoryurihead = {0, 0, 0};           
VECTOR  ScaleVectoryurihead = {ONE, ONE, ONE};       

SVECTOR VertPosyurihead[4] = {                       
        {16, -29, 1 },                       
        {16,  0, 1 },                       
        { 45, -29, 1 },                       
        { 45,  0, 1  }                        
    };       

MATRIX PolyMatrixyurihead = {0};

//Sayori Hanging Out~
POLY_FT4 *polysayoH = {0};

SVECTOR RotVectorsayoH = {0, 0, 0};               
VECTOR  MovVectorsayoH = {-40, -60, CENTERX/2-10, 0};
VECTOR  ScaleVectorsayoH = {ONE, ONE, ONE};       

SVECTOR VertPossayoH[4] = {                       
        {0, 0, 1 },                       
        {0,  120, 1 },                       
        { 30, 0, 1 },                       
        { 30,  120, 1  }                        
    };       

MATRIX PolyMatrixsayoH = {0};

//END
POLY_FT4 *polyend = {0};

SVECTOR RotVectorend = {0, 0, 0};               
VECTOR  MovVectorend = {-25, -10, CENTERX/2-10, 0};
VECTOR  ScaleVectorend = {ONE, ONE, ONE};       

SVECTOR VertPosend[4] = {                       
        {0, 0, 1 },                       
        {0,  18, 1 },                       
        { 45, 0, 1 },                       
        { 45,  18, 1  }                        
    };       

MATRIX PolyMatrixend = {0};

//Yuri Poem
POLY_FT4 *polyyuripoem = {0};

SVECTOR RotVectoryuripoem = {0, 0, 0};               
VECTOR  MovVectoryuripoem = {-50, 22, CENTERX/2-10, 0};
VECTOR  ScaleVectoryuripoem = {ONE, ONE, ONE};       

SVECTOR VertPosyuripoem[4] = {                       
        {0, 0, 1 },                       
        {0,  30, 1 },                       
        { 21, 0, 1 },                       
        { 21,  30, 1  }                        
    };       

MATRIX PolyMatrixyuripoem = {0};

//Natsuki Poem

POLY_FT4 *polynatsupoem = {0};

SVECTOR RotVectornatsupoem = {0, 0, 0};               
VECTOR  MovVectornatsupoem = {-66, 25, CENTERX/2-10, 0};
VECTOR  ScaleVectornatsupoem = {ONE, ONE, ONE};       

SVECTOR VertPosnatsupoem[4] = {                    
        {0, 0, 1 },                       
        {0,  27, 1 },                       
        { 24, 0, 1 },                       
        { 24,  27, 1  }                       
    };       

MATRIX PolyMatrixnatsupoem = {0};

//Sayori Poem

POLY_FT4 *polysayopoem = {0};

SVECTOR RotVectorsayopoem = {0, 0, 0};               
VECTOR  MovVectorsayopoem = {-80, 22, CENTERX/2-10, 0};
VECTOR  ScaleVectorsayopoem = {ONE, ONE, ONE};       

SVECTOR VertPossayopoem[4] = {                   
        {0, 0, 1 },                       
        {0,  30, 1 },                       
        { 21, 0, 1 },                       
        { 21,  30, 1  }                         
    };       

MATRIX PolyMatrixsayopoem = {0};

//Monika Poem

POLY_FT4 *polymonipoem = {0};

SVECTOR RotVectormonipoem = {0, 0, 0};               
VECTOR  MovVectormonipoem = {-70, 22, CENTERX/2-10, 0};
VECTOR  ScaleVectormonipoem = {ONE, ONE, ONE};       

SVECTOR VertPosmonipoem[4] = {                   
        {0, 0, 1 },                       
        {0,  30, 1 },                       
        { 21, 0, 1 },                       
        { 21,  30, 1  }                         
    };       

MATRIX PolyMatrixmonipoem = {0};

//Newgame

POLY_FT4 *polynewgame = {0};

SVECTOR RotVectornewgame = {0, 0, 0};               
VECTOR  MovVectornewgame = {-70, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectornewgame = {ONE, ONE, ONE};       

SVECTOR VertPosnewgame[4] = {                       
        {0, 0, 1 },                       
        {0,  7, 1 },                       
        { 23, 0, 1 },                       
        { 23,  7, 1  }                        
    };       

MATRIX PolyMatrixnewgame = {0};

//SaveGame

POLY_FT4 *polysavegame = {0};

SVECTOR RotVectorsavegame = {0, 0, 0};               
VECTOR  MovVectorsavegame = {-70, 14, CENTERX/2-10, 0};
VECTOR  ScaleVectorsavegame = {ONE, ONE, ONE};       

SVECTOR VertPossavegame[4] = {                       
        {0, 1, 1 },                       
        {0,  7, 1 },                       
        { 23, 1, 1 },                       
        { 23,  7, 1  }                        
    };       

MATRIX PolyMatrixsavegame = {0};

//LoadGame

POLY_FT4 *polyloadgame = {0};

SVECTOR RotVectorloadgame = {0, 0, 0};               
VECTOR  MovVectorloadgame = {-70, 8, CENTERX/2-10, 0};
VECTOR  ScaleVectorloadgame = {ONE, ONE, ONE};       

SVECTOR VertPosloadgame[4] = {                       
        {0, 0, 1 },                       
        {0,  7, 1 },                       
        { 23, 0, 1 },                       
        { 23,  7, 1  }                        
    };       

MATRIX PolyMatrixloadgame = {0};

//Settings

POLY_FT4 *polysettings = {0};

SVECTOR RotVectorsettings = {0, 0, 0};               
VECTOR  MovVectorsettings = {-70, 17, CENTERX/2-10, 0};
VECTOR  ScaleVectorsettings = {ONE, ONE, ONE};       

SVECTOR VertPossettings[4] = {                       
        {0, 0, 1 },                       
        {0,  8, 1 },                       
        { 20, 0, 1 },                       
        { 20,  8, 1  }                        
    };       

MATRIX PolyMatrixsettings = {0};

//Main menu

POLY_FT4 *polymainmenu = {0};

SVECTOR RotVectormainmenu = {0, 0, 0};               
VECTOR  MovVectormainmenu = {-70, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectormainmenu = {ONE, ONE, ONE};       

SVECTOR VertPosmainmenu[4] = {                       
        {0, 0, 1 },                       
        {0,  8, 1 },                       
        { 30, 0, 1 },                       
        { 30,  8, 1  }                        
    };       

MATRIX PolyMatrixmainmenu = {0};

//Name Box
POLY_FT4 *polynamebox = {0};

SVECTOR RotVectornamebox = {0, 0, 0};               
VECTOR  MovVectornamebox = {-65, 11, CENTERX/2-10, 0};
VECTOR  ScaleVectornamebox = {ONE, ONE, ONE};       

SVECTOR VertPosnamebox[4] = {                       
        {0, 0, 1 },                       
        {0,  10, 1 },                       
        { 35, 0, 1 },                       
        { 35,  10, 1  }                        
    };       

MATRIX PolyMatrixnamebox = {0};

//TextBox
POLY_FT4 *polytextbox = {0};
POLY_FT4 *polytextboxinverted = {0};

SVECTOR RotVectortextbox = {0, 0, 0};               
VECTOR  MovVectortextbox = {-70, 20, CENTERX/2-10, 0};
VECTOR  ScaleVectortextbox = {ONE, ONE, ONE};       

SVECTOR VertPostextbox[4] = {                       
        {0, 0, 1 },                       
        {0,  30, 1 },                       
        { 70, 0, 1 },                       
        { 70,  30, 1  }                        
    };       

SVECTOR VertPostextboxinverted[4] = {                       
        {140, 0, 1 },                       
        {140,  30, 1 },                       
        { 70, 0, 1 },                       
        { 70,  30, 1  }                        
    };       

MATRIX PolyMatrixtextbox = {0};
MATRIX PolyMatrixtextboxinverted = {0};

//Menu Background
POLY_FT4 *polymenubg = {0};   
POLY_FT4 *polymenubg2 = {0};   
POLY_FT4 *polymenubg3 = {0};   
POLY_FT4 *polymenubg4 = {0};                        

SVECTOR RotVectormenubg = {0, 0, 0};               
VECTOR  MovVectormenubg = {-80, -5, CENTERX/2-10, 0};
VECTOR  MovVectormenubgbelow = {-72, 106, CENTERX/2-10, 0};
VECTOR  ScaleVectormenubg = {8196, 8196, 8196};       

SVECTOR VertPosmenubg[4] = {                       
        {-40, -56, 1 },                       
        {-40,  57, 1 },                       
        { 100, -56, 1 },                       
        { 100,  57, 1  }                        
    };        
SVECTOR VertPosmenubg2[4] = {                       
        {100, -56, 1 },                       
        {100,  57, 1 },                       
        { 200, -56, 1 },                       
        { 200,  57, 1  }                        
    };          

MATRIX PolyMatrixmenubg = {0}; 
MATRIX PolyMatrixmenubgbelow = {0}; 

//Monika - Menu
POLY_FT4 *polymenumonika = {0};

SVECTOR RotVectormenumonika = {0, 0, 0};               
VECTOR  MovVectormenumonika = {25, -40, CENTERX/2-10, 0};
VECTOR  ScaleVectormenumonika = {ONE, ONE, ONE};       

SVECTOR VertPosmenumonika[4] = {                       
        {0, 0, 1 },                       
        {0,  160, 1 },                       
        { 90, 0, 1 },                       
        { 90,  160, 1  }                        
    };       

MATRIX PolyMatrixmenumonika = {0};

//Yuri - Menu
POLY_FT4 *polymenuyuri = {0};

SVECTOR RotVectormenuyuri = {0, 0, 0};               
VECTOR  MovVectormenuyuri = {-15, -55, CENTERX/2-10, 0};
VECTOR  ScaleVectormenuyuri = {ONE, ONE, ONE};       

SVECTOR VertPosmenuyuri[4] = {                         
        {0, 0, 1 },                       
        {0,  100, 1 },                       
        { 45, 0, 1 },                       
        { 45,  100, 1  }                       
    };        

MATRIX PolyMatrixmenuyuri = {0};

//Sayori - Menu
POLY_FT4 *polymenusayori = {0};

SVECTOR RotVectormenusayori = {0, 0, 0};               
VECTOR  MovVectormenusayori = {-23, -35, CENTERX/2-10, 0};
VECTOR  ScaleVectormenusayori = {ONE, ONE, ONE};       

SVECTOR VertPosmenusayori[4] = {                        
        {0, 0, 1 },                       
        {0,  120, 1 },                       
        { 45, 0, 1 },                       
        { 45,  120, 1  }                     
    };        

MATRIX PolyMatrixmenusayori = {0};

//Natuski - Menu
POLY_FT4 *polymenunatsuki = {0};

SVECTOR RotVectormenunatsuki = {0, 0, 0};               
VECTOR  MovVectormenunatsuki = {20, -45, CENTERX/2-10, 0};
VECTOR  ScaleVectormenunatsuki = {ONE, ONE, ONE};       

SVECTOR VertPosmenunatsuki[4] = {                       
        {0, 0, 1 },                       
        {0,  95, 1 },                       
        { 32, 0, 1 },                       
        { 32,  95, 1  }                        
    };        

MATRIX PolyMatrixmenunatsuki = {0};

//Logo's Stars
POLY_FT4 *polylogostars = {0};

SVECTOR RotVectorlogostars = {0, 0, 0};               
VECTOR  MovVectorlogostars = {-25, -35, CENTERX/2-10, 0};
VECTOR  ScaleVectorlogostars = {2012, 2012, 2012};       

SVECTOR VertPoslogostars[4] = {                       
        {0, 0, 1 },                       
        {0,  20, 1 },                       
        { 22, 0, 1 },                       
        { 22,  20, 1  }                        
    };        

MATRIX PolyMatrixlogostars = {0};

//Game Logo
POLY_FT4 *polyGlogo = {0};

SVECTOR RotVectorGlogo = {0, 0, 0};               
VECTOR  MovVectorGlogo = {-70, -112, CENTERX/2-10, 0};
VECTOR  ScaleVectorGlogo = {ONE, ONE, ONE};       

SVECTOR VertPosGlogo[4] = {                       
        {0, 0, 1 },                       
        {0,  50, 1 },                       
        { 50, 0, 1 },                       
        { 50,  50, 1  }                        
    };        

MATRIX PolyMatrixGlogo = {0};

//Logo Splash
POLY_FT4 *polylogo = {0};

SVECTOR RotVectorlogo = {0, 0, 0};               
VECTOR  MovVectorlogo = {-25, -35, CENTERX/2-10, 0};
VECTOR  ScaleVectorlogo = {ONE, ONE, ONE};       

SVECTOR VertPoslogo[4] = {                       
        {0, 0, 1 },                       
        {0,  57, 1 },                       
        { 50, 0, 1 },                       
        { 50,  57, 1  }                        
    };        

MATRIX PolyMatrixlogo = {0};

//Main Menu overlay
POLY_FT4 *polyMM = {0};

SVECTOR RotVectorMM = {0, 0, 0};               
VECTOR  MovVectorMM = {-140, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorMM = {ONE, ONE, ONE};       

SVECTOR VertPosMM[4] = {                       
        {0, -62, 1 },                       
        {0,  63, 1 },                       
        { 50, -62, 1 },                       
        { 50,  63, 1  }                        
    };        

MATRIX PolyMatrixMM = {0}; 

//Background 1
POLY_FT4 *polybg = {0};                        

SVECTOR RotVectorbg = {0, 0, 0};               
VECTOR  MovVectorbg = {-80, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorbg = {ONE, ONE, ONE};       

SVECTOR VertPosbg[4] = {                         
        {0, -62, 1 },                       
        {0,  63, 1 },                       
        { 100, -62, 1 },                       
        { 100,  63, 1  }                        
    };        

MATRIX PolyMatrixbg = {0}; 

//Background 2
POLY_FT4 *polybg2 = {0};                        

SVECTOR RotVectorbg2 = {0, 0, 0};               
VECTOR  MovVectorbg2 = {20, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorbg2 = {ONE, ONE, ONE};       

SVECTOR VertPosbg2[4] = {                       
        {0, -62, 1 },                       
        {0,  63, 1 },                       
        { 100, -62, 1 },                       
        { 100,  63, 1  }                        
    };        

MATRIX PolyMatrixbg2 = {0}; 

//Monika BG - Mask 2

POLY_FT4 *polybgmask21 = {0};                        

SVECTOR RotVectorbgmask21 = {0, 0, 0};               
VECTOR  MovVectorbgmask21 = {-80, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorbgmask21 = {ONE, ONE, ONE};       

SVECTOR VertPosbgmask21[4] = {                         
        {0, -32, 1 },                       
        {0,  33, 1 },                       
        { 100, -32, 1 },                       
        { 100,  33, 1  }                        
    };        

MATRIX PolyMatrixbgmask21 = {0}; 

POLY_FT4 *polybgmask22 = {0};                        

SVECTOR RotVectorbgmask22 = {0, 0, 0};               
VECTOR  MovVectorbgmask22 = {20, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorbgmask22 = {ONE, ONE, ONE};       

SVECTOR VertPosbgmask22[4] = {                       
        {0, -32, 1 },                       
        {0,  33, 1 },                       
        { 100, -32, 1 },                       
        { 100,  33, 1  }                        
    };        

MATRIX PolyMatrixbgmask22 = {0}; 

//Monika BG - Mask 3

POLY_FT4 *polybgmask31 = {0};                        

SVECTOR RotVectorbgmask31 = {0, 0, 0};               
VECTOR  MovVectorbgmask31 = {-100, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorbgmask31 = {ONE, ONE, ONE};       

SVECTOR VertPosbgmask31[4] = {                         
        {0, -32, 1 },                       
        {0,  33, 1 },                       
        { 150, -32, 1 },                       
        { 150,  33, 1  }                        
    };        

MATRIX PolyMatrixbgmask31 = {0}; 

POLY_FT4 *polybgmask32 = {0};                        

SVECTOR RotVectorbgmask32 = {0, 0, 0};               
VECTOR  MovVectorbgmask32 = {20, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectorbgmask32 = {ONE, ONE, ONE};       

SVECTOR VertPosbgmask32[4] = {                       
        {0, -32, 1 },                       
        {0,  33, 1 },                       
        { 100, -32, 1 },                       
        { 100,  33, 1  }                        
    };        

MATRIX PolyMatrixbgmask32 = {0}; 

//Natsuki special
POLY_FT4 *polynatspecial = {0};                        

SVECTOR RotVectornatspecial = {0, 0, 0};               
VECTOR  MovVectornatspecial = {-45, -3, CENTERX/2-10, 0};
VECTOR  ScaleVectornatspecial = {ONE, ONE, ONE};       

SVECTOR VertPosnatspecial[4] = {                         
        {0, -55, 1 },                       
        {0,  63, 1 },                       
        { 105, -55, 1 },                       
        { 105,  63, 1  }                        
    };        

MATRIX PolyMatrixnatspecial = {0}; 

//Natsuki special details
POLY_FT4 *polynatspecialdetail = {0};                        

SVECTOR RotVectornatspecialdetail = {0, 0, 0};               
VECTOR  MovVectornatspecialdetail = {-38, 0, CENTERX/2-10, 0};
VECTOR  ScaleVectornatspecialdetail = {3070, 1536, 1536};       

SVECTOR VertPosnatspecialdetail[4] = {                         
        {0, -55, 1 },                       
        {0,  63, 1 },                       
        { 105, -55, 1 },                       
        { 105,  63, 1  }                        
    };        

MATRIX PolyMatrixnatspecialdetail = {0}; 

//Box Text test
POLY_F4 *polytextboxoutline = {0};   

POLY_F4 *polytextboxoutline2 = {0};                        

SVECTOR RotVectortextoutline = {0, 0, 0};               
VECTOR  MovVectortextoutline = {-26, -21, CENTERX/2-10, 0};
VECTOR  ScaleVectortextoutline = {ONE, ONE, ONE};       

SVECTOR VertPostextoutline[4] = {                       
        {0, 0, 1 },                       
        {0,  7, 1 },                       
        { 55, 0, 1 },                       
        { 55,  7, 1  }                        
    };        

SVECTOR VertPostextoutline2[4] = {                       
        {1, 1, 1 },                       
        {1,  6, 1 },                       
        { 54, 1, 1 },                       
        { 54,  6, 1  }                        
    };        

MATRIX PolyMatrixtextoutline = {0}; 
MATRIX PolyMatrixtextoutline2 = {0}; 

void LoadTexture(u_long * tim, TIM_IMAGE * tparam){     // This part is from Lameguy64's tutorial series : lameguy64.net/svn/pstutorials/chapter1/3-textures.html login/pw: annoyingmous
        OpenTIM(tim);                                   // Open the tim binary data, feed it the address of the data in memory
        ReadTIM(tparam);                                // This read the header of the TIM data and sets the corresponding members of the TIM_IMAGE structure
        
        LoadImage(tparam->prect, tparam->paddr);        // Transfer the data from memory to VRAM at position prect.x, prect.y
        DrawSync(0);                                    // Wait for the drawing to end

        if (tparam->mode & 0x8){ // check 4th bit       // If 4th bit == 1, TIM has a CLUT
            LoadImage(tparam->crect, tparam->caddr);    // Load it to VRAM at position crect.x, crect.y
            DrawSync(0);                                // Wait for drawing to end
        }
}

void ChangeFontColor(int R, int G, int B) {
    RECT rectTL;

    setRECT(&rectTL, 961, 128, 1, 1);  
    ClearImage2(&rectTL, R, G, B);
    DrawSync(0);
}

void MenuBGMoving(void) {
    polymenubg = (POLY_FT4 *)nextpri;                    
    
    RotMatrix(&RotVectormenubg, &PolyMatrixmenubg);    
    TransMatrix(&PolyMatrixmenubg, &MovVectormenubg);  
    ScaleMatrix(&PolyMatrixmenubg, &ScaleVectormenubg);
    
    SetRotMatrix(&PolyMatrixmenubg);                  
    SetTransMatrix(&PolyMatrixmenubg);    
    
    setPolyFT4(polymenubg);                    

    setRGB0(polymenubg, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
    
    setClut(polymenubg, 960, 210);
    
    polymenubg->tpage = getTPage(menuBG.mode&0x3, 0, 704, 0);
    
    RotTransPers4(
                &VertPosmenubg[0],      &VertPosmenubg[1],      &VertPosmenubg[2],      &VertPosmenubg[3],
                (long*)&polymenubg->x0, (long*)&polymenubg->x1, (long*)&polymenubg->x2, (long*)&polymenubg->x3,
                &polydepth,
                &polyflag
                );                              
       
    setUV4(polymenubg, 0, 0, 0, 202, 255, 0, 255, 202);

    addPrim(ot[db], polymenubg);                        
    
    nextpri += sizeof(POLY_FT4);  

    int speedbg = 1;

    if (sayorihangingvisible) {speedbg = 3;}
    
    if (MovVectormenubg.vx > -97) {
        if (frameforseed %3 == 1) {
           MovVectormenubg.vx -= speedbg;
           MovVectormenubgbelow.vx -= speedbg;
        }
    } else {MovVectormenubg.vx = -63; MovVectormenubgbelow.vx = -73;}
    
    if (MovVectormenubg.vy > -49) {
        if (frameforseed %3 == 1) {
            MovVectormenubg.vy -= speedbg;
            MovVectormenubgbelow.vy -= speedbg;
        }
    } else {MovVectormenubg.vy = -14; MovVectormenubgbelow.vy = 89;}
}


void MenuOpening(void) {
	
    if (menuintroframes > 30 && menuintroframes < 150 || menuintroframes > 180 && menuintroframes < 340 || menuintroframes > 365) {
        if (!transitiontogame) { 
        	if (fadeinNoutalpha < 250) {fadeinNoutalpha += 10;} else {fadeinNoutalpha = 252;}
        }
    } else {
        if (fadeinNoutalpha > 5) {fadeinNoutalpha -= 10;} else {fadeinNoutalpha = 0;}
    }

    if (menuintroframes == 180 && currentchapter == 3) {currentscreen = 2;}

    if (menuintroframes > 190 && menuintroframes < 355) {
    	if (sayorihangingvisible) {menuintroframes = 366;}
        if (currentscreen == 1) { ChangeFontColor(260 - fadeinNoutalpha,260 - fadeinNoutalpha,260 - fadeinNoutalpha); }
        FntPrint("\n\n\n\n\n\n\n\n\n  This game is not suitable for \n    children or those who are \n        easily disturbed.");
    }

    //Pink dots moving !!! Very good looking ! (took me too long to do...)
	if (menuintroframes > 365) {MenuBGMoving();}

    if (menuintroframes > 460 && MovVectorMM.vx < -80) {

        //If between this and that, ....

        if (MovVectorMM.vx < -95 && MovVectorMM.vx > -90 ) {
                if (menuintroframes %3 == 0) {MMspeed = 1;} else {MMspeed = 0;}
        }
        if (MovVectorMM.vx > -90 ) {
                if (menuintroframes %5 == 0) {MMspeed = 1;} else {MMspeed = 0;}
        }

        //case
        switch(MovVectorMM.vx) {
            case -100:
                MMspeed = 1;
            break;  
            case -80:
                MMspeed = 0;
            break;
        }

        MovVectorMM.vx += MMspeed;
    }

    if (menuintroframes > 500) {

        if (MovVectorGlogo.vy < -60) {
            if (menuintroframes %5 == 1 && menuintroframes %2 == 1) {
                GlogoYspeed++;
            }

            if (menuintroframes %2 == 1) {MovVectorGlogo.vy += GlogoYspeed;}

        } else {
            if (itbounced == false) { 
                GlogoYspeed = -GlogoYspeed / 2; 
                MovVectorGlogo.vy = - 61; 
                itbounced = true;
            }
        }
    }
}
void makepoly(int num) {
    if (choices) {
    	if (numberchoices > 0) {
    		switch(numberchoices) {
    			case 1:
    				MovVectortextoutline.vy = -21;
    			break;
    			case 2:
    				MovVectortextoutline.vy = -29;
    			break;
    			case 3:
    				MovVectortextoutline.vy = -33;
    			break;
    			case 4:
    				MovVectortextoutline.vy = -41;
    			break;
    		}
	        int a = numberchoices;

	        while(a != 0) {
	        	if (responsestrings[a+1][0] != ' ') {
		            polytextboxoutline2 = (POLY_F4 *)nextpri;              
		            
		            RotMatrix(&RotVectortextoutline, &PolyMatrixtextoutline);
		            TransMatrix(&PolyMatrixtextoutline, &MovVectortextoutline);  
		            ScaleMatrix(&PolyMatrixtextoutline, &ScaleVectortextoutline);
		            
		            SetRotMatrix(&PolyMatrixtextoutline);                   
		            SetTransMatrix(&PolyMatrixtextoutline);   

		            setPolyF4(polytextboxoutline2);    

		            RotTransPers4(
		                        &VertPostextoutline2[0],      &VertPostextoutline2[1],      &VertPostextoutline2[2],      &VertPostextoutline2[3],
		                        (long*)&polytextboxoutline2->x0, (long*)&polytextboxoutline2->x1, (long*)&polytextboxoutline2->x2, (long*)&polytextboxoutline2->x3,
		                        &polydepth,
		                        &polyflag
		                        );                               
		            
		            if (selectionchoices == a) {setRGB0(polytextboxoutline2,255,222,213);} else {setRGB0(polytextboxoutline2,255,192,203);}
		            
		            addPrim(ot[db], polytextboxoutline2);                  
		              
		            nextpri += sizeof(POLY_F4);    

		            polytextboxoutline = (POLY_F4 *)nextpri;              
		            
		            RotMatrix(&RotVectortextoutline, &PolyMatrixtextoutline);
		            TransMatrix(&PolyMatrixtextoutline, &MovVectortextoutline);  
		            ScaleMatrix(&PolyMatrixtextoutline, &ScaleVectortextoutline);
		            
		            SetRotMatrix(&PolyMatrixtextoutline);                   
		            SetTransMatrix(&PolyMatrixtextoutline);   

		            setPolyF4(polytextboxoutline);    

		            RotTransPers4(
		                        &VertPostextoutline[0],      &VertPostextoutline[1],      &VertPostextoutline[2],      &VertPostextoutline[3],
		                        (long*)&polytextboxoutline->x0, (long*)&polytextboxoutline->x1, (long*)&polytextboxoutline->x2, (long*)&polytextboxoutline->x3,
		                        &polydepth,
		                        &polyflag
		                        );                               
		            
		            setRGB0(polytextboxoutline,219,112,147);
		            
		            addPrim(ot[db], polytextboxoutline);                  
		              
		            nextpri += sizeof(POLY_F4);    
	        	}

	        	MovVectortextoutline.vy += 12;
	        	a--;
	        }

    	}
    }
        switch(num) {
            case 2:
                    if (menuintroframes > 30 && menuintroframes < 180) {

                            polylogo = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectorlogo, &PolyMatrixlogo);    
                            TransMatrix(&PolyMatrixlogo, &MovVectorlogo);  
                            ScaleMatrix(&PolyMatrixlogo, &ScaleVectorlogo);
                            
                            SetRotMatrix(&PolyMatrixlogo);                  
                            SetTransMatrix(&PolyMatrixlogo);    
                            
                            setPolyFT4(polylogo);                    

                            setRGB0(polylogo, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha / 2);                       
                            
                            setClut(polylogo, 960, 201);
                            
                            polylogo->tpage = getTPage(logosplash.mode&0x3, 0, 320, 0);
                            
                            RotTransPers4(
                                        &VertPoslogo[0],      &VertPoslogo[1],      &VertPoslogo[2],      &VertPoslogo[3],
                                        (long*)&polylogo->x0, (long*)&polylogo->x1, (long*)&polylogo->x2, (long*)&polylogo->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polylogo, 104, 0, 104, 146, 216, 0, 216, 146);

                            addPrim(ot[db], polylogo);                        
                            
                            nextpri += sizeof(POLY_FT4);
                    }

                    if (menuintroframes > 365) {
                    	if (currentscreen == 1) {
							MovVectorloadgame.vy = 8;
	
							MovVectorsettings.vy = 17;

                            polynewgame = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectornewgame, &PolyMatrixnewgame);    
                            TransMatrix(&PolyMatrixnewgame, &MovVectornewgame);  
                            ScaleMatrix(&PolyMatrixnewgame, &ScaleVectornewgame);
                            
                            SetRotMatrix(&PolyMatrixnewgame);                  
                            SetTransMatrix(&PolyMatrixnewgame);    
                            
                            setPolyFT4(polynewgame);                    
                            
                            setRGB0(polynewgame, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polynewgame, 960, 220);
                            
                            polynewgame->tpage = getTPage(newgame.mode&0x3, 0, 320, 256);
                            
                            RotTransPers4(
                                        &VertPosnewgame[0],      &VertPosnewgame[1],      &VertPosnewgame[2],      &VertPosnewgame[3],
                                        (long*)&polynewgame->x0, (long*)&polynewgame->x1, (long*)&polynewgame->x2, (long*)&polynewgame->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polynewgame, 0, 0, 0, 32, 179, 0, 179, 32);

                            addPrim(ot[db], polynewgame);                        
                            
                            nextpri += sizeof(POLY_FT4); 

                            polyloadgame = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectorloadgame, &PolyMatrixloadgame);    
                            TransMatrix(&PolyMatrixloadgame, &MovVectorloadgame);  
                            ScaleMatrix(&PolyMatrixloadgame, &ScaleVectorloadgame);
                            
                            SetRotMatrix(&PolyMatrixloadgame);                  
                            SetTransMatrix(&PolyMatrixloadgame);    
                            
                            setPolyFT4(polyloadgame);                    
                            
                            setRGB0(polyloadgame, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polyloadgame, 960, 197);
                            
                            polyloadgame->tpage = getTPage(newgame.mode&0x3, 0, 384, 256);
                            
                            RotTransPers4(
                                        &VertPosnewgame[0],      &VertPosnewgame[1],      &VertPosnewgame[2],      &VertPosnewgame[3],
                                        (long*)&polyloadgame->x0, (long*)&polyloadgame->x1, (long*)&polyloadgame->x2, (long*)&polyloadgame->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polyloadgame, 0, 37, 0, 68, 174, 37, 174, 68);

                            addPrim(ot[db], polyloadgame);                        
                            
                            nextpri += sizeof(POLY_FT4); 

                            polysettings = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectorsettings, &PolyMatrixsettings);    
                            TransMatrix(&PolyMatrixsettings, &MovVectorsettings);  
                            ScaleMatrix(&PolyMatrixsettings, &ScaleVectorsettings);
                            
                            SetRotMatrix(&PolyMatrixsettings);                  
                            SetTransMatrix(&PolyMatrixsettings);    
                            
                            setPolyFT4(polysettings);                    
                            
                            setRGB0(polysettings, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polysettings, 960, 221);
                            
                            polysettings->tpage = getTPage(settings.mode&0x3, 0, 320, 256);
                            
                            RotTransPers4(
                                        &VertPossettings[0],      &VertPossettings[1],      &VertPossettings[2],      &VertPossettings[3],
                                        (long*)&polysettings->x0, (long*)&polysettings->x1, (long*)&polysettings->x2, (long*)&polysettings->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polysettings, 0, 32, 0, 71, 144, 32, 144, 71);

                            addPrim(ot[db], polysettings);                        
                            
                            nextpri += sizeof(POLY_FT4); 
                                    
                            polyGlogo = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectorGlogo, &PolyMatrixGlogo);    
                            TransMatrix(&PolyMatrixGlogo, &MovVectorGlogo);  
                            ScaleMatrix(&PolyMatrixGlogo, &ScaleVectorGlogo);
                            
                            SetRotMatrix(&PolyMatrixGlogo);                  
                            SetTransMatrix(&PolyMatrixGlogo);    
                            
                            setPolyFT4(polyGlogo);                    

                            setRGB0(polyGlogo, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polyGlogo, 960, 199);
                            
                            polyGlogo->tpage = getTPage(logosplash.mode&0x3, 0, 384, 0);
                            
                            RotTransPers4(
                                        &VertPosGlogo[0],      &VertPosGlogo[1],      &VertPosGlogo[2],      &VertPosGlogo[3],
                                        (long*)&polyGlogo->x0, (long*)&polyGlogo->x1, (long*)&polyGlogo->x2, (long*)&polyGlogo->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polyGlogo, 0, 0, 0, 169, 170, 0, 170, 169);

                            addPrim(ot[db], polyGlogo);                        
                            
                            nextpri += sizeof(POLY_FT4);

                            polyMM = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectorMM, &PolyMatrixMM);    
                            TransMatrix(&PolyMatrixMM, &MovVectorMM);  
                            ScaleMatrix(&PolyMatrixMM, &ScaleVectorMM);
                            
                            SetRotMatrix(&PolyMatrixMM);                  
                            SetTransMatrix(&PolyMatrixMM);    
                            
                            setPolyFT4(polyMM);                    

                            setRGB0(polyMM, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polyMM, 960, 200);
                            
                            polyMM->tpage = getTPage(MainMenuoverlay.mode&0x3, 0, 320, 0);
                            
                            RotTransPers4(
                                        &VertPosMM[0],      &VertPosMM[1],      &VertPosMM[2],      &VertPosMM[3],
                                        (long*)&polyMM->x0, (long*)&polyMM->x1, (long*)&polyMM->x2, (long*)&polyMM->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polyMM, 0, 0, 0, 238, 102, 0, 102, 238);

                            addPrim(ot[db], polyMM);                        
                            
                            nextpri += sizeof(POLY_FT4);   
                        }
                        if (!isinsettings && !isinloadingscreen) {
                        	if (currentchapter != 4) {
                                polymenumonika = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectormenumonika, &PolyMatrixmenumonika);    
                                TransMatrix(&PolyMatrixmenumonika, &MovVectormenumonika);  
                                ScaleMatrix(&PolyMatrixmenumonika, &ScaleVectormenumonika);
                                
                                SetRotMatrix(&PolyMatrixmenumonika);                  
                                SetTransMatrix(&PolyMatrixmenumonika);    
                                
                                setPolyFT4(polymenumonika);                    

                                setRGB0(polymenumonika, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                                
                                setClut(polymenumonika, 0, 500);
                                
                                polymenumonika->tpage = getTPage(menu_monika.mode&0x3, 0, 512, 0);
                                
                                RotTransPers4(
                                            &VertPosmenumonika[0],      &VertPosmenumonika[1],      &VertPosmenumonika[2],      &VertPosmenumonika[3],
                                            (long*)&polymenumonika->x0, (long*)&polymenumonika->x1, (long*)&polymenumonika->x2, (long*)&polymenumonika->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polymenumonika, 0, 0, 0, 198, 110, 0, 110, 198);

                                addPrim(ot[db], polymenumonika);                        
                                
                                nextpri += sizeof(POLY_FT4);
                        	}
                            if (currentscreen == 1 && currentchapter == 1) {
	                            polymenusayori = (POLY_FT4 *)nextpri;                    
	                            
	                            RotMatrix(&RotVectormenusayori, &PolyMatrixmenusayori);    
	                            TransMatrix(&PolyMatrixmenusayori, &MovVectormenusayori);  
	                            ScaleMatrix(&PolyMatrixmenusayori, &ScaleVectormenusayori);
	                            
	                            SetRotMatrix(&PolyMatrixmenusayori);                  
	                            SetTransMatrix(&PolyMatrixmenusayori);    
	                            
	                            setPolyFT4(polymenusayori);                    

	                            setRGB0(polymenusayori, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
	                            
	                            setClut(polymenusayori, 0, 509);
	                            
	                            polymenusayori->tpage = getTPage(menu_sayori.mode&0x3, 0, 448, 0);
	                            
	                            RotTransPers4(
	                                        &VertPosmenusayori[0],      &VertPosmenusayori[1],      &VertPosmenusayori[2],      &VertPosmenusayori[3],
	                                        (long*)&polymenusayori->x0, (long*)&polymenusayori->x1, (long*)&polymenusayori->x2, (long*)&polymenusayori->x3,
	                                        &polydepth,
	                                        &polyflag
	                                        );                              
	                               
	                            setUV4(polymenusayori, 56, 0, 56, 202, 126, 0, 126, 202);

	                            addPrim(ot[db], polymenusayori);                        
	                            
	                            nextpri += sizeof(POLY_FT4);
                            }

                            polymenunatsuki = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectormenunatsuki, &PolyMatrixmenunatsuki);    
                            TransMatrix(&PolyMatrixmenunatsuki, &MovVectormenunatsuki);  
                            ScaleMatrix(&PolyMatrixmenunatsuki, &ScaleVectormenunatsuki);
                            
                            SetRotMatrix(&PolyMatrixmenunatsuki);                  
                            SetTransMatrix(&PolyMatrixmenunatsuki);    
                            
                            setPolyFT4(polymenunatsuki);                    

                            setRGB0(polymenunatsuki, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polymenunatsuki, 0, 507);
                            
                            polymenunatsuki->tpage = getTPage(menu_natsuki.mode&0x3, 0, 512, 0);
                            
                            RotTransPers4(
                                        &VertPosmenunatsuki[0],      &VertPosmenunatsuki[1],      &VertPosmenunatsuki[2],      &VertPosmenunatsuki[3],
                                        (long*)&polymenunatsuki->x0, (long*)&polymenunatsuki->x1, (long*)&polymenunatsuki->x2, (long*)&polymenunatsuki->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polymenunatsuki, 114, 0, 114, 195, 180, 0, 180, 195);

                            addPrim(ot[db], polymenunatsuki);                        
                            
                            nextpri += sizeof(POLY_FT4);

                            polymenuyuri = (POLY_FT4 *)nextpri;                    
                            
                            RotMatrix(&RotVectormenuyuri, &PolyMatrixmenuyuri);    
                            TransMatrix(&PolyMatrixmenuyuri, &MovVectormenuyuri);  
                            ScaleMatrix(&PolyMatrixmenuyuri, &ScaleVectormenuyuri);
                            
                            SetRotMatrix(&PolyMatrixmenuyuri);                  
                            SetTransMatrix(&PolyMatrixmenuyuri);    
                            
                            setPolyFT4(polymenuyuri);                    

                            setRGB0(polymenuyuri, fadeinNoutalpha / 2, fadeinNoutalpha / 2, fadeinNoutalpha /2);                       
                            
                            setClut(polymenuyuri, 0, 508);
                            
                            polymenuyuri->tpage = getTPage(menu_yuri.mode&0x3, 0, 576, 0);
                            
                            RotTransPers4(
                                        &VertPosmenuyuri[0],      &VertPosmenuyuri[1],      &VertPosmenuyuri[2],      &VertPosmenuyuri[3],
                                        (long*)&polymenuyuri->x0, (long*)&polymenuyuri->x1, (long*)&polymenuyuri->x2, (long*)&polymenuyuri->x3,
                                        &polydepth,
                                        &polyflag
                                        );                              
                               
                            setUV4(polymenuyuri, 54, 0, 54, 199, 135, 0, 135, 199);

                            addPrim(ot[db], polymenuyuri);                        
                            
                            nextpri += sizeof(POLY_FT4);

                            if (sayorihangingvisible) {

                            	if (ScaleVectormenuyuri.vx == ONE) {
                            		ScaleVectormenuyuri.vx = 3072;
                            		ScaleVectormenuyuri.vy = 3072;

                            		ScaleVectormenumonika.vx = 2048;
                            		ScaleVectormenumonika.vy = 2048;

                            		ScaleVectormenunatsuki.vx = 3072;
                            		ScaleVectormenunatsuki.vy = 3072;
                            	}

                            	if (cutsceneframes > 600) {MovVectormenuyuri.vx = 2000; MovVectormenunatsuki.vx = 2000; MovVectormenumonika.vx = 2000; return;}

		                        MovVectormenuyuri.vy = 25;

		                        if (frameforseed % 3 == 1) {
			                        if (MovVectormenuyuri.vx == 20) {MovVectormenuyuri.vx = 50;} else {MovVectormenuyuri.vx = 20;}

	                            	Ran(100);

			                        MovVectormenunatsuki.vy = 20 - RAN;
			                        MovVectormenunatsuki.vx = -50 + RAN;
									
			                        MovVectormenumonika.vx = -50;

									if (MovVectormenumonika.vy < -70) {MovVectormenumonika.vy = -10;} else {MovVectormenumonika.vy -= 20;}                        	
		                        }
                            }//Dokis glitching out

                        }
                       	//Pink dots in the MenuBGMoving func 
                    }
            break; //Menu scene
            case 3:
            		if (currentchapter != 3) {
	                    polyyuripoem = (POLY_FT4 *)nextpri;                    
	                    
	                    RotMatrix(&RotVectoryuripoem, &PolyMatrixyuripoem);    
	                    TransMatrix(&PolyMatrixyuripoem, &MovVectoryuripoem);  
	                    ScaleMatrix(&PolyMatrixyuripoem, &ScaleVectoryuripoem);
	                    
	                    SetRotMatrix(&PolyMatrixyuripoem);                  
	                    SetTransMatrix(&PolyMatrixyuripoem);    
	                    
	                    setPolyFT4(polyyuripoem);                    

	                    setRGB0(polyyuripoem, bgalpha, bgalpha, bgalpha);                       
	                    
	                    setClut(polyyuripoem, 0, 506);
	                    
	                    polyyuripoem->tpage = getTPage(poemyuri.mode&0x3, 0, 704, 0);
	                    
	                    RotTransPers4(
	                                &VertPosyuripoem[0],      &VertPosyuripoem[1],      &VertPosyuripoem[2],      &VertPosyuripoem[3],
	                                (long*)&polyyuripoem->x0, (long*)&polyyuripoem->x1, (long*)&polyyuripoem->x2, (long*)&polyyuripoem->x3,
	                                &polydepth,
	                                &polyflag
	                                );                              
	                       
	                    if (bouncedtwiceY == 0) {
	                        setUV4(polyyuripoem, 0, 56, 0, 114, 40, 56, 40, 114);
	                        MovVectoryuripoem.vy = 22;
	                    } else {
	                        setUV4(polyyuripoem, 0, 56, 0, 114, 40, 56, 40, 114);
	                        MovVectoryuripoem.vy += yspeedyuri;
	                    }

	                    addPrim(ot[db], polyyuripoem);                        
	                    
	                    nextpri += sizeof(POLY_FT4);   

	                    polynatsupoem = (POLY_FT4 *)nextpri;                    
	                    
	                    RotMatrix(&RotVectornatsupoem, &PolyMatrixnatsupoem);    
	                    TransMatrix(&PolyMatrixnatsupoem, &MovVectornatsupoem);  
	                    ScaleMatrix(&PolyMatrixnatsupoem, &ScaleVectornatsupoem);
	                    
	                    SetRotMatrix(&PolyMatrixnatsupoem);                  
	                    SetTransMatrix(&PolyMatrixnatsupoem);    
	                    
	                    setPolyFT4(polynatsupoem);                    

	                    setRGB0(polynatsupoem, bgalpha, bgalpha, bgalpha);                       
	                    
	                    setClut(polynatsupoem, 0, 504);
	                    
	                    polynatsupoem->tpage = getTPage(poemnatsuki.mode&0x3, 0, 704, 0);
	                    
	                    RotTransPers4(
	                                &VertPosnatsupoem[0],      &VertPosnatsupoem[1],      &VertPosnatsupoem[2],      &VertPosnatsupoem[3],
	                                (long*)&polynatsupoem->x0, (long*)&polynatsupoem->x1, (long*)&polynatsupoem->x2, (long*)&polynatsupoem->x3,
	                                &polydepth,
	                                &polyflag
	                                );                              
	                       
	                    if (bouncedtwiceN == 0) {
	                            setUV4(polynatsupoem, 0, 116, 0, 168, 46, 116, 46, 168);
	                            MovVectornatsupoem.vy = 25;
	                    } else {
	                            setUV4(polynatsupoem, 0, 116, 0, 168, 46, 116, 46, 168);
	                            MovVectornatsupoem.vy += yspeednatsuki;
	                    }

	                    addPrim(ot[db], polynatsupoem);                        
	                    
	                    nextpri += sizeof(POLY_FT4);   
            		} else {
	                    polymonipoem = (POLY_FT4 *)nextpri;                    
	                    
	                    RotMatrix(&RotVectormonipoem, &PolyMatrixmonipoem);    
	                    TransMatrix(&PolyMatrixmonipoem, &MovVectormonipoem);  
	                    ScaleMatrix(&PolyMatrixmonipoem, &ScaleVectormonipoem);
	                    
	                    SetRotMatrix(&PolyMatrixmonipoem);                  
	                    SetTransMatrix(&PolyMatrixmonipoem);    
	                    
	                    setPolyFT4(polymonipoem);                    

	                    setRGB0(polymonipoem, bgalpha, bgalpha, bgalpha);                       
	                    
	                    setClut(polymonipoem, 0, 505);
	                    
	                    polymonipoem->tpage = getTPage(poemmonika.mode&0x3, 0, 704, 0);
	                    
	                    RotTransPers4(
	                                &VertPosmonipoem[0],      &VertPosmonipoem[1],      &VertPosmonipoem[2],      &VertPosmonipoem[3],
	                                (long*)&polymonipoem->x0, (long*)&polymonipoem->x1, (long*)&polymonipoem->x2, (long*)&polymonipoem->x3,
	                                &polydepth,
	                                &polyflag
	                                );                              
	                       
	                    addPrim(ot[db], polymonipoem);                        
	                    
	                    setUV4(polymonipoem, 42, 60, 42, 114, 80, 60, 80, 114);

	                    nextpri += sizeof(POLY_FT4);   

	                    if (bouncedtwiceM == 0) {
	                        MovVectormonipoem.vy = 22;
	                    } else {
	                        MovVectormonipoem.vy += yspeedmonika;
	                    }
            		}
                    if (currentchapter == 1) {
	                    polysayopoem = (POLY_FT4 *)nextpri;                    
	                    
	                    RotMatrix(&RotVectorsayopoem, &PolyMatrixsayopoem);    
	                    TransMatrix(&PolyMatrixsayopoem, &MovVectorsayopoem);  
	                    ScaleMatrix(&PolyMatrixsayopoem, &ScaleVectorsayopoem);
	                    
	                    SetRotMatrix(&PolyMatrixsayopoem);                  
	                    SetTransMatrix(&PolyMatrixsayopoem);    
	                    
	                    setPolyFT4(polysayopoem);                    

	                    setRGB0(polysayopoem, bgalpha, bgalpha, bgalpha);                       
	                    
	                    setClut(polysayopoem, 0, 505);
	                    
	                    polysayopoem->tpage = getTPage(poemsayori.mode&0x3, 0, 704, 0);
	                    
	                    RotTransPers4(
	                                &VertPossayopoem[0],      &VertPossayopoem[1],      &VertPossayopoem[2],      &VertPossayopoem[3],
	                                (long*)&polysayopoem->x0, (long*)&polysayopoem->x1, (long*)&polysayopoem->x2, (long*)&polysayopoem->x3,
	                                &polydepth,
	                                &polyflag
	                                );                              
	                       
	                    setUV4(polysayopoem, 42, 60, 42, 114, 80, 60, 80, 114);

	                    if (bouncedtwiceS == 0) {
	                        MovVectorsayopoem.vy = 22;
	                    } else {
	                        MovVectorsayopoem.vy += yspeedsayori;
	                    }

	                    addPrim(ot[db], polysayopoem);                        
	                    
	                    nextpri += sizeof(POLY_FT4);   
                    }
                    if (repeatsong % 60 == 1) {
                        Ran(10);
                        if (currentchapter != 3) {
	                        if (RAN == 1 && bouncedtwiceS == 0) {
	                            bouncedtwiceS = 1;
	                            yspeedsayori = -2;
	                            Ran(4);
	                            if (RAN == 1) {
	                            	VertPossayopoem[0].vx = 21;
	                            	VertPossayopoem[1].vx = 21;
	                            	VertPossayopoem[2].vx = 0;
	                            	VertPossayopoem[3].vx = 0;
	                            } else {
	                            	VertPossayopoem[0].vx = 0;
	                            	VertPossayopoem[1].vx = 0;
	                            	VertPossayopoem[2].vx = 21;
	                            	VertPossayopoem[3].vx = 21;
	                            }
	                        }
	                        if (RAN == 2 && bouncedtwiceN == 0) {
	                            bouncedtwiceN = 1;
	                            yspeednatsuki = -2;
	                            Ran(4);
	                            if (RAN == 1) {
	                            	VertPosnatsupoem[0].vx = 24;
	                            	VertPosnatsupoem[1].vx = 24;
	                            	VertPosnatsupoem[2].vx = 0;
	                            	VertPosnatsupoem[3].vx = 0;
	                            } else {
	                            	VertPosnatsupoem[0].vx = 0;
	                            	VertPosnatsupoem[1].vx = 0;
	                            	VertPosnatsupoem[2].vx = 24;
	                            	VertPosnatsupoem[3].vx = 24;
	                            }
	                        }
	                        if (RAN == 3 && bouncedtwiceY == 0) {
	                            bouncedtwiceY = 1;
	                            yspeedyuri = -2;
	                            Ran(4);
	                            if (RAN == 1) {
	                            	VertPosyuripoem[0].vx = 21;
	                            	VertPosyuripoem[1].vx = 21;
	                            	VertPosyuripoem[2].vx = 0;
	                            	VertPosyuripoem[3].vx = 0;
	                            } else {
	                            	VertPosyuripoem[0].vx = 0;
	                            	VertPosyuripoem[1].vx = 0;
	                            	VertPosyuripoem[2].vx = 21;
	                            	VertPosyuripoem[3].vx = 21;
	                            }
	                        }
	                        if (RAN == 9) {
	                        	Ran(5);
	                        	if (RAN == 1) {
		                            bouncedtwiceY = 1;
		                            yspeedyuri = -2;
		                            bouncedtwiceN = 1;
		                            yspeednatsuki = -2;
		                            bouncedtwiceS = 1;
		                            yspeedsayori = -2;
	                        	}
	                        }
                        } else {
		                    if (RAN == 1 && bouncedtwiceM == 0) {
		                        bouncedtwiceM = 1;
		                        yspeedmonika = -2;
		                        Ran(4);
		                        if (RAN == 1) {
		                        	VertPosmonipoem[0].vx = 21;
		                        	VertPosmonipoem[1].vx = 21;
		                        	VertPosmonipoem[2].vx = 0;
		                        	VertPosmonipoem[3].vx = 0;
		                        } else {
		                        	VertPosmonipoem[0].vx = 0;
		                        	VertPosmonipoem[1].vx = 0;
		                        	VertPosmonipoem[2].vx = 21;
		                        	VertPosmonipoem[3].vx = 21;
		                        }
		                    }
		                }
                    }

                    if (repeatsong %5 == 1) {
                        if (yspeedyuri > -3) {
                            yspeedyuri++;
                        } else {yspeedyuri = -2;}
                        if (yspeedsayori > -3) {
                            yspeedsayori++;
                        } else {yspeedsayori = -2;}
                        if (yspeednatsuki > -3) {
                            yspeednatsuki++;
                        } else {yspeednatsuki = -2;}
                        if (yspeedmonika > -3) {
                            yspeedmonika++;
                        } else {yspeedmonika = -2;}
                    }

                    if (bouncedtwiceY > 0) {
	                    if (MovVectoryuripoem.vy > 22) {
	                        bouncedtwiceY--;
	                        yspeedyuri = -2; 
	                        MovVectoryuripoem.vy = 21; 
	                    }
                    } else {yurihappy = false;}

                    if (bouncedtwiceS > 0) {
	                    if (MovVectorsayopoem.vy > 22) {
	                        bouncedtwiceS--;
	                        yspeedsayori = -2; 
	                        MovVectorsayopoem.vy = 22; 
	                    }
                    } else {sayorihappy = false;}

                    if (bouncedtwiceN > 0) {
	                    if (MovVectornatsupoem.vy > 25) {
	                        bouncedtwiceN--;
	                        yspeednatsuki = -2; 
	                        MovVectornatsupoem.vy = 23;   
	                    }
                    } else {natsukihappy = false;}

                    if (bouncedtwiceM > 0) {
	                    if (MovVectormonipoem.vy > 25) {
	                        bouncedtwiceM--;
	                        yspeedmonika = -2; 
	                        MovVectormonipoem.vy = 23;   
	                    }
                    }

                    if (currentchapter < 3) {
	                    if (natsukihappy == false) {LoadTexture(_binary_images_GUI_poemgame_N_STICKER_1LIL_tim_start, &poemnatsuki);} else {LoadTexture(_binary_images_GUI_poemgame_N_STICKER_2LIL_tim_start, &poemnatsuki);}

	                    if (yurihappy == false) {LoadTexture(_binary_images_GUI_poemgame_Y_STICKER_1LIL_tim_start, &poemyuri);} else {LoadTexture(_binary_images_GUI_poemgame_Y_STICKER_2LIL_tim_start, &poemyuri);}
                    }

                    if (currentchapter == 1) {if (sayorihappy == false) {LoadTexture(_binary_images_GUI_poemgame_S_STICKER_1LIL_tim_start, &poemsayori);} else {LoadTexture(_binary_images_GUI_poemgame_S_STICKER_2LIL_tim_start, &poemsayori);}}

            break;//Poem minigame
            case 4:
                    if (!isinpause) {
                            if (natsukivisible) {
                                polynatsuhead = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectornatsuhead, &PolyMatrixnatsuhead);    
                                TransMatrix(&PolyMatrixnatsuhead, &MovVectornatsubodyL);  
                                ScaleMatrix(&PolyMatrixnatsuhead, &ScaleVectornatsuhead);
                                
                                SetRotMatrix(&PolyMatrixnatsuhead);                  
                                SetTransMatrix(&PolyMatrixnatsuhead);    
                                
                                setPolyFT4(polynatsuhead);                    

                                setRGB0(polynatsuhead, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polynatsuhead, 0, 495);
                                
                                polynatsuhead->tpage = getTPage(Natsuki.mode&0x3, 0, 832, 0);
                                
                                RotTransPers4(
                                            &VertPosnatsuhead[0],      &VertPosnatsuhead[1],      &VertPosnatsuhead[2],      &VertPosnatsuhead[3],
                                            (long*)&polynatsuhead->x0, (long*)&polynatsuhead->x1, (long*)&polynatsuhead->x2, (long*)&polynatsuhead->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polynatsuhead, 0, 165, 0, 255, 120, 165, 120, 255);

                                addPrim(ot[db], polynatsuhead);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polynatsubodyR = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectornatsubodyR, &PolyMatrixnatsubodyR);    
                                TransMatrix(&PolyMatrixnatsubodyR, &MovVectornatsubodyL);  
                                ScaleMatrix(&PolyMatrixnatsubodyR, &ScaleVectornatsubodyR);
                                
                                SetRotMatrix(&PolyMatrixnatsubodyR);                  
                                SetTransMatrix(&PolyMatrixnatsubodyR);    
                                
                                setPolyFT4(polynatsubodyR);                    

                                setRGB0(polynatsubodyR, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polynatsubodyR, 0, 491);
                                
                                polynatsubodyR->tpage = getTPage(Natsuki.mode&0x3, 0, 640, 0);
                                
                                RotTransPers4(
                                            &VertPosnatsubodyR[0],      &VertPosnatsubodyR[1],      &VertPosnatsubodyR[2],      &VertPosnatsubodyR[3],
                                            (long*)&polynatsubodyR->x0, (long*)&polynatsubodyR->x1, (long*)&polynatsubodyR->x2, (long*)&polynatsubodyR->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polynatsubodyR, 0, 0, 0, 168, 92, 0, 92, 168);

                                addPrim(ot[db], polynatsubodyR);                        
                                
                                nextpri += sizeof(POLY_FT4);   
                                
                                polynatsubodyL = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectornatsubodyL, &PolyMatrixnatsubodyL);    
                                TransMatrix(&PolyMatrixnatsubodyL, &MovVectornatsubodyL);  
                                ScaleMatrix(&PolyMatrixnatsubodyL, &ScaleVectornatsubodyL);
                                
                                SetRotMatrix(&PolyMatrixnatsubodyL);                  
                                SetTransMatrix(&PolyMatrixnatsubodyL);    
                                
                                setPolyFT4(polynatsubodyL);                    

                                setRGB0(polynatsubodyL, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polynatsubodyL, 0, 490);
                                
                                polynatsubodyL->tpage = getTPage(Natsuki.mode&0x3, 0, 576, 0);
                                
                                RotTransPers4(
                                            &VertPosnatsubodyL[0],      &VertPosnatsubodyL[1],      &VertPosnatsubodyL[2],      &VertPosnatsubodyL[3],
                                            (long*)&polynatsubodyL->x0, (long*)&polynatsubodyL->x1, (long*)&polynatsubodyL->x2, (long*)&polynatsubodyL->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polynatsubodyL, 50, 0, 50, 168, 127, 0, 127, 168);

                                addPrim(ot[db], polynatsubodyL);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                if (natsuposY == -1) {
                                	if (frameforseed %3 == 1) {
	                                	if (MovVectornatsubodyL.vy < -8) { //Won't go after that
	                                		MovVectornatsubodyL.vy += 1;
	                                	}
                                	}
                                }  
                                if (natsuposY == 0) {
                                	if (MovVectornatsubodyL.vy > -10) { //Return to original pos
                                		MovVectornatsubodyL.vy -= 1;
                                	} else {
	                                	if (MovVectornatsubodyL.vy < -10) { //Return to original pos
	                                		MovVectornatsubodyL.vy += 1;
	                                	}	
                                	}
                                }  
                                if (natsuposY == 1) {
                                	if (frameforseed %2 == 1) {
	                                	if (MovVectornatsubodyL.vy > -14) { //Jumping
	                                		MovVectornatsubodyL.vy -= 1;
	                                	} else {natsuposY = 0;}
	                               	}
                                }  
                            }
                            if (sayorivisible) {
                                polysayohead = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectorsayohead, &PolyMatrixsayohead);    
                                TransMatrix(&PolyMatrixsayohead, &MovVectorsayobodyL);  
                                ScaleMatrix(&PolyMatrixsayohead, &ScaleVectorsayobodyL);
                                
                                SetRotMatrix(&PolyMatrixsayohead);                  
                                SetTransMatrix(&PolyMatrixsayohead);    
                                
                                setPolyFT4(polysayohead);                    

                                setRGB0(polysayohead, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polysayohead, 0, 486);
                                
                                polysayohead->tpage = getTPage(Sayori.mode&0x3, 0, 896, 0);
                                
                                RotTransPers4(
                                            &VertPossayohead[0],      &VertPossayohead[1],      &VertPossayohead[2],      &VertPossayohead[3],
                                            (long*)&polysayohead->x0, (long*)&polysayohead->x1, (long*)&polysayohead->x2, (long*)&polysayohead->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polysayohead, 0, 0, 0, 95, 108, 0, 108, 95);

                                addPrim(ot[db], polysayohead);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polysayobodyR = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectorsayobodyR, &PolyMatrixsayobodyR);    
                                TransMatrix(&PolyMatrixsayobodyR, &MovVectorsayobodyL);  
                                ScaleMatrix(&PolyMatrixsayobodyR, &ScaleVectorsayobodyL);
                                
                                SetRotMatrix(&PolyMatrixsayobodyR);                  
                                SetTransMatrix(&PolyMatrixsayobodyR);    
                                
                                setPolyFT4(polysayobodyR);                    

                                setRGB0(polysayobodyR, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polysayobodyR, 0, 485);
                                
                                polysayobodyR->tpage = getTPage(Sayori.mode&0x3, 0, 384, 256);
                                
                                RotTransPers4(
                                            &VertPossayobodyR[0],      &VertPossayobodyR[1],      &VertPossayobodyR[2],      &VertPossayobodyR[3],
                                            (long*)&polysayobodyR->x0, (long*)&polysayobodyR->x1, (long*)&polysayobodyR->x2, (long*)&polysayobodyR->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polysayobodyR, 2, 68, 2, 255, 116, 68, 116, 255);

                                addPrim(ot[db], polysayobodyR);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polysayobodyL = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectorsayobodyL, &PolyMatrixsayobodyL);    
                                TransMatrix(&PolyMatrixsayobodyL, &MovVectorsayobodyL);  
                                ScaleMatrix(&PolyMatrixsayobodyL, &ScaleVectorsayobodyL);
                                
                                SetRotMatrix(&PolyMatrixsayobodyL);                  
                                SetTransMatrix(&PolyMatrixsayobodyL);    
                                
                                setPolyFT4(polysayobodyL);                    

                                setRGB0(polysayobodyL, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polysayobodyL, 0, 484);
                                
                                polysayobodyL->tpage = getTPage(Sayori.mode&0x3, 0, 320, 256);
                                
                                RotTransPers4(
                                            &VertPossayobodyL[0],      &VertPossayobodyL[1],      &VertPossayobodyL[2],      &VertPossayobodyL[3],
                                            (long*)&polysayobodyL->x0, (long*)&polysayobodyL->x1, (long*)&polysayobodyL->x2, (long*)&polysayobodyL->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polysayobodyL, 32, 68, 32, 255, 127, 68, 127, 255);

                                addPrim(ot[db], polysayobodyL);                        
                                
                                nextpri += sizeof(POLY_FT4); 

                                if (sayoposY == -1) {
                                	if (frameforseed %3 == 1) {
	                                	if (MovVectorsayobodyL.vy < -15) { //Won't go after that
	                                		MovVectorsayobodyL.vy += 1;
	                                	}
                                	}
                                }  
                                if (sayoposY == 0) {
                                	if (MovVectorsayobodyL.vy > -19) { //Return to original pos
                                		MovVectorsayobodyL.vy -= 1;
                                	} else {
	                                	if (MovVectorsayobodyL.vy < -19) { //Return to original pos
	                                		MovVectorsayobodyL.vy += 1;
	                                	}	
                                	}
                                }  
                                if (sayoposY == 1) {
                                	if (frameforseed %2 == 1) {
	                                	if (MovVectorsayobodyL.vy > -22) { //Jumping
	                                		MovVectorsayobodyL.vy -= 1;
	                                	} else {sayoposY = 0;}
	                               	}
                                }  

                                switch(sayoposZ) {
                                	case 0:
	                                	ScaleVectorsayobodyL.vx = ONE;
	                                	ScaleVectorsayobodyL.vy = ONE;
	                                	ScaleVectorsayobodyR.vx = ONE;
	                                	ScaleVectorsayobodyR.vy = ONE;
	                                	ScaleVectorsayoH.vx = ONE;
	                                	ScaleVectorsayoH.vy = ONE;
                                	break;
                                	case 1:
                                		ScaleVectorsayobodyL.vx = 8196;
                                		ScaleVectorsayobodyL.vy = 8196;
                                		ScaleVectorsayobodyR.vx = 8196;
                                		ScaleVectorsayobodyR.vy = 8196;
                                		ScaleVectorsayoH.vx = 8196;
                                		ScaleVectorsayoH.vy = 8196;
                                	break;
                                	case 2:
                                		ScaleVectorsayobodyL.vx = ONE;
                                		ScaleVectorsayobodyL.vy = ONE;
                                		ScaleVectorsayobodyR.vx = ONE;
                                		ScaleVectorsayobodyR.vy = ONE;
                                		ScaleVectorsayoH.vx = ONE;
                                		ScaleVectorsayoH.vy = ONE;
                                	break; //Debug menu
                                }

                            }
                            if (monikavisible) {
                                polymonibodyR = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectormonibodyR, &PolyMatrixmonibodyR);    
                                TransMatrix(&PolyMatrixmonibodyR, &MovVectormonibodyL);  
                                ScaleMatrix(&PolyMatrixmonibodyR, &ScaleVectormonibodyR);
                                
                                SetRotMatrix(&PolyMatrixmonibodyR);                  
                                SetTransMatrix(&PolyMatrixmonibodyR);    
                                
                                setPolyFT4(polymonibodyR);                    

                                setRGB0(polymonibodyR, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polymonibodyR, 0, 493);
                                
                                polymonibodyR->tpage = getTPage(Monika.mode&0x3, 0, 512, 256);
                                
                                RotTransPers4(
                                            &VertPosmonibodyR[0],      &VertPosmonibodyR[1],      &VertPosmonibodyR[2],      &VertPosmonibodyR[3],
                                            (long*)&polymonibodyR->x0, (long*)&polymonibodyR->x1, (long*)&polymonibodyR->x2, (long*)&polymonibodyR->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polymonibodyR, 1, 0, 1, 195, 111, 0, 111, 195);

                                addPrim(ot[db], polymonibodyR);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polymonibodyL = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectormonibodyL, &PolyMatrixmonibodyL);    
                                TransMatrix(&PolyMatrixmonibodyL, &MovVectormonibodyL);  
                                ScaleMatrix(&PolyMatrixmonibodyL, &ScaleVectormonibodyL);
                                
                                SetRotMatrix(&PolyMatrixmonibodyL);                  
                                SetTransMatrix(&PolyMatrixmonibodyL);    
                                
                                setPolyFT4(polymonibodyL);                    

                                setRGB0(polymonibodyL, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polymonibodyL, 0, 494);
                                
                                polymonibodyL->tpage = getTPage(Monika.mode&0x3, 0, 448, 256);
                                
                                RotTransPers4(
                                            &VertPosmonibodyL[0],      &VertPosmonibodyL[1],      &VertPosmonibodyL[2],      &VertPosmonibodyL[3],
                                            (long*)&polymonibodyL->x0, (long*)&polymonibodyL->x1, (long*)&polymonibodyL->x2, (long*)&polymonibodyL->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polymonibodyL, 0, 0, 0, 195, 126, 0, 126, 195);

                                addPrim(ot[db], polymonibodyL);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polymonihead = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectormonihead, &PolyMatrixmonihead);    
                                TransMatrix(&PolyMatrixmonihead, &MovVectormonibodyL);  
                                ScaleMatrix(&PolyMatrixmonihead, &ScaleVectormonihead);
                                
                                SetRotMatrix(&PolyMatrixmonihead);                  
                                SetTransMatrix(&PolyMatrixmonihead);    
                                
                                setPolyFT4(polymonihead);                    

                                setRGB0(polymonihead, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polymonihead, 0, 492);
                                
                                polymonihead->tpage = getTPage(Monika.mode&0x3, 0, 832, 0);
                                
                                RotTransPers4(
                                            &VertPosmonihead[0],      &VertPosmonihead[1],      &VertPosmonihead[2],      &VertPosmonihead[3],
                                            (long*)&polymonihead->x0, (long*)&polymonihead->x1, (long*)&polymonihead->x2, (long*)&polymonihead->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polymonihead, 0, 62, 0, 164, 108, 62, 108, 164);

                                addPrim(ot[db], polymonihead);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                if (moniposY == -1) {
                                	if (frameforseed %3 == 1) {
	                                	if (MovVectormonibodyL.vy < -19) { //Won't go after that
	                                		MovVectormonibodyL.vy += 1;
	                                	}
                                	}
                                }  
                                if (moniposY == 0) {
                                	if (MovVectormonibodyL.vy > -22) { //Return to original pos
                                		MovVectormonibodyL.vy -= 1;
                                	} else {
	                                	if (MovVectormonibodyL.vy < -22) { //Return to original pos
	                                		MovVectormonibodyL.vy += 1;
	                                	}	
                                	}
                                }  
                                if (moniposY == 1) {
                                	if (frameforseed %2 == 1) {
	                                	if (MovVectormonibodyL.vy > -25) { //Jumping
	                                		MovVectormonibodyL.vy -= 1;
	                                	} else {moniposY = 0;}
	                                }
                                }  
                            }

                            if (yurivisible) {
                                polyyurihead = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectoryurihead, &PolyMatrixyurihead);    
                                TransMatrix(&PolyMatrixyurihead, &MovVectoryuribodyL);  
                                ScaleMatrix(&PolyMatrixyurihead, &ScaleVectoryurihead);
                                
                                SetRotMatrix(&PolyMatrixyurihead);                  
                                SetTransMatrix(&PolyMatrixyurihead);    
                                
                                setPolyFT4(polyyurihead);                    

                                setRGB0(polyyurihead, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polyyurihead, 0, 489);
                                
                                polyyurihead->tpage = getTPage(Yuri.mode&0x3, 0, 896, 0);
                                
                                RotTransPers4(
                                            &VertPosyurihead[0],      &VertPosyurihead[1],      &VertPosyurihead[2],      &VertPosyurihead[3],
                                            (long*)&polyyurihead->x0, (long*)&polyyurihead->x1, (long*)&polyyurihead->x2, (long*)&polyyurihead->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polyyurihead, 0, 95, 0, 188, 88, 95, 88, 188);

                                addPrim(ot[db], polyyurihead);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polyyuribodyL = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectoryuribodyL, &PolyMatrixyuribodyL);    
                                TransMatrix(&PolyMatrixyuribodyL, &MovVectoryuribodyL);  
                                ScaleMatrix(&PolyMatrixyuribodyL, &ScaleVectoryuribodyL);
                                
                                SetRotMatrix(&PolyMatrixyuribodyL);                  
                                SetTransMatrix(&PolyMatrixyuribodyL);    
                                
                                setPolyFT4(polyyuribodyL);                    

                                setRGB0(polyyuribodyL, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polyyuribodyL, 0, 488);
                                
                                polyyuribodyL->tpage = getTPage(Yuri.mode&0x3, 0, 448, 0);
                                
                                RotTransPers4(
                                            &VertPosyuribodyL[0],      &VertPosyuribodyL[1],      &VertPosyuribodyL[2],      &VertPosyuribodyL[3],
                                            (long*)&polyyuribodyL->x0, (long*)&polyyuribodyL->x1, (long*)&polyyuribodyL->x2, (long*)&polyyuribodyL->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polyyuribodyL, 84, 0, 84, 205, 127, 0, 127, 205);

                                addPrim(ot[db], polyyuribodyL);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                polyyuribodyR = (POLY_FT4 *)nextpri;                    
                                
                                RotMatrix(&RotVectoryuribodyR, &PolyMatrixyuribodyR);    
                                TransMatrix(&PolyMatrixyuribodyR, &MovVectoryuribodyL);  
                                ScaleMatrix(&PolyMatrixyuribodyR, &ScaleVectoryuribodyR);
                                
                                SetRotMatrix(&PolyMatrixyuribodyR);                  
                                SetTransMatrix(&PolyMatrixyuribodyR);    
                                
                                setPolyFT4(polyyuribodyR);                    

                                setRGB0(polyyuribodyR, bgalpha, bgalpha, bgalpha);                       
                                
                                setClut(polyyuribodyR, 0, 487);
                                
                                polyyuribodyR->tpage = getTPage(Yuri.mode&0x3, 0, 512, 0);
                                
                                RotTransPers4(
                                            &VertPosyuribodyR[0],      &VertPosyuribodyR[1],      &VertPosyuribodyR[2],      &VertPosyuribodyR[3],
                                            (long*)&polyyuribodyR->x0, (long*)&polyyuribodyR->x1, (long*)&polyyuribodyR->x2, (long*)&polyyuribodyR->x3,
                                            &polydepth,
                                            &polyflag
                                            );                              
                                   
                                setUV4(polyyuribodyR, 0, 0, 0, 205, 126, 0, 126, 205);

                                addPrim(ot[db], polyyuribodyR);                        
                                
                                nextpri += sizeof(POLY_FT4);   

                                if (yuriposY == -1) {
                                	if (frameforseed %3 == 1) {
	                                	if (MovVectoryuribodyL.vy < -19) { //Won't go after that
	                                		MovVectoryuribodyL.vy += 1;
	                                	}
                                	}
                                }  
                                if (yuriposY == 0) {
                                	if (MovVectoryuribodyL.vy > -22) { //Return to original pos
                                		MovVectoryuribodyL.vy -= 1;
                                	} else {
	                                	if (MovVectoryuribodyL.vy < -22) { //Return to original pos
	                                		MovVectoryuribodyL.vy += 1;
	                                	}	
                                	}
                                }  
                                if (yuriposY == 1) {
                                	if (frameforseed %2 == 1) {
	                                	if (MovVectoryuribodyL.vy > -25) { //Jumping
	                                		MovVectoryuribodyL.vy -= 1;
	                                	} else {yuriposY = 0;}
	                               	}
                                }  
                            }

                        if (sayorihangingvisible) {

		                    polysayoH = (POLY_FT4 *)nextpri;                    
		                    
		                    RotMatrix(&RotVectorsayoH, &PolyMatrixsayoH);    
		                    TransMatrix(&PolyMatrixsayoH, &MovVectorsayoH);  
		                    ScaleMatrix(&PolyMatrixsayoH, &ScaleVectorsayoH);
		                    
		                    SetRotMatrix(&PolyMatrixsayoH);                  
		                    SetTransMatrix(&PolyMatrixsayoH);    
		                    
		                    setPolyFT4(polysayoH);                    

		                    setRGB0(polysayoH, bgalpha, bgalpha, bgalpha);                       
		                    
		                    if (cutsceneframes < 1202 && cutsceneframes > 1184) {setClut(polysayoH, 0, 497); setUV4(polysayoH, 52, 25, 52, 255, 104, 25, 104, 255);} else {setClut(polysayoH, 0, 502); setUV4(polysayoH, 0, 25, 0, 255, 50, 25, 50, 255);}
		                    
		                    polysayoH->tpage = getTPage(sayori_hangingout.mode&0x3, 0, 768, 0);
		                    
		                    RotTransPers4(
		                                &VertPossayoH[0],      &VertPossayoH[1],      &VertPossayoH[2],      &VertPossayoH[3],
		                                (long*)&polysayoH->x0, (long*)&polysayoH->x1, (long*)&polysayoH->x2, (long*)&polysayoH->x3,
		                                &polydepth,
		                                &polyflag
		                                );                              

		                    addPrim(ot[db], polysayoH);                        
		                    
		                    nextpri += sizeof(POLY_FT4);

		                    if (cutsceneframes < 970 && cutsceneframes > 550) {
    							LoadTexture(_binary_images_BG_LILSPLASH2_tim_start, &logosplash);
				                setRGB0(&draw[0], fadeinNoutalpha, fadeinNoutalpha, fadeinNoutalpha); // set color for first draw area
				                setRGB0(&draw[1], fadeinNoutalpha, fadeinNoutalpha, fadeinNoutalpha); // set color for second draw area
		                    	menuintroframes++;
		                    	makepoly(2);
		                    	MenuOpening();	
		                    	isbghere = false;

		                    }

                        }


                    } else {
                        polymainmenu = (POLY_FT4 *)nextpri;                    
                        
                        RotMatrix(&RotVectormainmenu, &PolyMatrixmainmenu);    
                        TransMatrix(&PolyMatrixmainmenu, &MovVectormainmenu);  
                        ScaleMatrix(&PolyMatrixmainmenu, &ScaleVectormainmenu);
                        
                        SetRotMatrix(&PolyMatrixmainmenu);                  
                        SetTransMatrix(&PolyMatrixmainmenu);    
                        
                        setPolyFT4(polymainmenu);                    
                        
                        setRGB0(polymainmenu, bgalphatextbox,bgalphatextbox,bgalphatextbox);                       
                        
                        setClut(polymainmenu, 960, 222);
                        
                        polymainmenu->tpage = getTPage(settings.mode&0x3, 0, 384, 256);
                        
                        RotTransPers4(
                                    &VertPosmainmenu[0],      &VertPosmainmenu[1],      &VertPosmainmenu[2],      &VertPosmainmenu[3],
                                    (long*)&polymainmenu->x0, (long*)&polymainmenu->x1, (long*)&polymainmenu->x2, (long*)&polymainmenu->x3,
                                    &polydepth,
                                    &polyflag
                                    );                              
                           
                        setUV4(polymainmenu, 0, 0, 0, 32, 166, 0, 166, 32);

                        addPrim(ot[db], polymainmenu);                        
                        
                        nextpri += sizeof(POLY_FT4); 

                        polysettings = (POLY_FT4 *)nextpri;                    
                        
                        RotMatrix(&RotVectorsettings, &PolyMatrixsettings);    
                        TransMatrix(&PolyMatrixsettings, &MovVectorsettings);  
                        ScaleMatrix(&PolyMatrixsettings, &ScaleVectorsettings);
                        
                        SetRotMatrix(&PolyMatrixsettings);                  
                        SetTransMatrix(&PolyMatrixsettings);    
                        
                        setPolyFT4(polysettings);                    
                        
                        setRGB0(polysettings, bgalphatextbox,bgalphatextbox,bgalphatextbox);                       
                        
                        setClut(polysettings, 960, 221);
                        
                        polysettings->tpage = getTPage(settings.mode&0x3, 0, 320, 256);
                        
                        RotTransPers4(
                                    &VertPossettings[0],      &VertPossettings[1],      &VertPossettings[2],      &VertPossettings[3],
                                    (long*)&polysettings->x0, (long*)&polysettings->x1, (long*)&polysettings->x2, (long*)&polysettings->x3,
                                    &polydepth,
                                    &polyflag
                                    );                              
                           
                        setUV4(polysettings, 0, 32, 0, 71, 144, 32, 144, 71);

                        addPrim(ot[db], polysettings);                        
                        
                        nextpri += sizeof(POLY_FT4); 

                        polysavegame = (POLY_FT4 *)nextpri;                    
                        
                        RotMatrix(&RotVectorsavegame, &PolyMatrixsavegame);    
                        TransMatrix(&PolyMatrixsavegame, &MovVectorsavegame);  
                        ScaleMatrix(&PolyMatrixsavegame, &ScaleVectorsavegame);
                        
                        SetRotMatrix(&PolyMatrixsavegame);                  
                        SetTransMatrix(&PolyMatrixsavegame);    
                        
                        setPolyFT4(polysavegame);                    
                        
                        setRGB0(polysavegame, bgalphatextbox,bgalphatextbox,bgalphatextbox);                       
                        
                        setClut(polysavegame, 960, 194);
                        
                        polysavegame->tpage = getTPage(savegame.mode&0x3, 0, 256, 256);
                        
                        RotTransPers4(
                                    &VertPossavegame[0],      &VertPossavegame[1],      &VertPossavegame[2],      &VertPossavegame[3],
                                    (long*)&polysavegame->x0, (long*)&polysavegame->x1, (long*)&polysavegame->x2, (long*)&polysavegame->x3,
                                    &polydepth,
                                    &polyflag
                                    );                              
                           
                        setUV4(polysavegame, 0, 225, 0, 255, 171, 225, 171, 255);

                        addPrim(ot[db], polysavegame);                        
                        
                        nextpri += sizeof(POLY_FT4); 

                        polyloadgame = (POLY_FT4 *)nextpri;                    
                        
                        RotMatrix(&RotVectorloadgame, &PolyMatrixloadgame);    
                        TransMatrix(&PolyMatrixloadgame, &MovVectorloadgame);  
                        ScaleMatrix(&PolyMatrixloadgame, &ScaleVectorloadgame);
                        
                        SetRotMatrix(&PolyMatrixloadgame);                  
                        SetTransMatrix(&PolyMatrixloadgame);    
                        
                        setPolyFT4(polyloadgame);                    
                        
                        setRGB0(polyloadgame, bgalphatextbox,bgalphatextbox,bgalphatextbox);                       
                        
                        setClut(polyloadgame, 960, 197);
                        
                        polyloadgame->tpage = getTPage(newgame.mode&0x3, 0, 384, 256);
                        
                        RotTransPers4(
                                    &VertPosnewgame[0],      &VertPosnewgame[1],      &VertPosnewgame[2],      &VertPosnewgame[3],
                                    (long*)&polyloadgame->x0, (long*)&polyloadgame->x1, (long*)&polyloadgame->x2, (long*)&polyloadgame->x3,
                                    &polydepth,
                                    &polyflag
                                    );                              
                           
                        setUV4(polyloadgame, 0, 32, 0, 68, 174, 32, 174, 68);

                        addPrim(ot[db], polyloadgame);                        
                        
                        nextpri += sizeof(POLY_FT4); 

						MovVectorloadgame.vy = 17;

						MovVectorsettings.vy = 24;

                        polyMM = (POLY_FT4 *)nextpri;                    
                        
                        RotMatrix(&RotVectorMM, &PolyMatrixMM);    
                        TransMatrix(&PolyMatrixMM, &MovVectorMM);  
                        ScaleMatrix(&PolyMatrixMM, &ScaleVectorMM);
                        
                        SetRotMatrix(&PolyMatrixMM);                  
                        SetTransMatrix(&PolyMatrixMM);    
                        
                        setPolyFT4(polyMM);                    

                        setRGB0(polyMM, bgalphatextbox,bgalphatextbox,bgalphatextbox);                       
                        
                        setClut(polyMM, 960, 200);
                        
                        polyMM->tpage = getTPage(MainMenuoverlay.mode&0x3, 0, 320, 0);
                        
                        RotTransPers4(
                                    &VertPosMM[0],      &VertPosMM[1],      &VertPosMM[2],      &VertPosMM[3],
                                    (long*)&polyMM->x0, (long*)&polyMM->x1, (long*)&polyMM->x2, (long*)&polyMM->x3,
                                    &polydepth,
                                    &polyflag
                                    );                              
                           
                        setUV4(polyMM, 0, 0, 0, 238, 102, 0, 102, 238);

                        addPrim(ot[db], polyMM);                        
                        
                        nextpri += sizeof(POLY_FT4);   
                    }

            break;//In game scene
            case 5:

                if (menuintroframes > 60 && menuintroframes < 480) {
                    polyend = (POLY_FT4 *)nextpri;                    
                    
                    RotMatrix(&RotVectorend, &PolyMatrixend);    
                    TransMatrix(&PolyMatrixend, &MovVectorend);  
                    ScaleMatrix(&PolyMatrixend, &ScaleVectorend);
                    
                    SetRotMatrix(&PolyMatrixend);                  
                    SetTransMatrix(&PolyMatrixend);    
                    
                    setPolyFT4(polyend);                    

                    setRGB0(polyend, bgalpha, bgalpha, bgalpha);                       
                    
                    setClut(polyend, 960, 230);
                    
                    polyend->tpage = getTPage(end.mode&0x3, 0, 832, 0);
                    
                    RotTransPers4(
                                &VertPosend[0],      &VertPosend[1],      &VertPosend[2],      &VertPosend[3],
                                (long*)&polyend->x0, (long*)&polyend->x1, (long*)&polyend->x2, (long*)&polyend->x3,
                                &polydepth,
                                &polyflag
                                );                              
                       
                    setUV4(polyend, 0, 0, 0, 62, 178, 0, 178, 62);

                    addPrim(ot[db], polyend);                        
                    
                    nextpri += sizeof(POLY_FT4); 
                }
                if (menuintroframes > 480) {

                    if (menuintroframes %79 == 1) {
                        Ran(10 - RotVectorsayoH.vx);
                        if (RAN >= 5 && RotVectorsayoH.vx < 50) {
                            RotVectorsayoH.vx++;
                        } else {
                            RotVectorsayoH.vx--;
                        }
                    }
                    if (menuintroframes %79 == 1) {
                        Ran(10 - RotVectorsayoH.vy);
                        if (RAN >= 5 && RotVectorsayoH.vy < 50) {
                            RotVectorsayoH.vy++;
                        } else {
                            RotVectorsayoH.vy--;
                        }
                    }

                    polysayoH = (POLY_FT4 *)nextpri;                    
                    
                    RotMatrix(&RotVectorsayoH, &PolyMatrixsayoH);    
                    TransMatrix(&PolyMatrixsayoH, &MovVectorsayoH);  
                    ScaleMatrix(&PolyMatrixsayoH, &ScaleVectorsayoH);
                    
                    SetRotMatrix(&PolyMatrixsayoH);                  
                    SetTransMatrix(&PolyMatrixsayoH);    
                    
                    setPolyFT4(polysayoH);                    

                    setRGB0(polysayoH, bgalpha, bgalpha, bgalpha);                       
                    
                    setClut(polysayoH, 0, 502);
                    
                    polysayoH->tpage = getTPage(sayori_hangingout.mode&0x3, 0, 768, 0);
                    
                    RotTransPers4(
                                &VertPossayoH[0],      &VertPossayoH[1],      &VertPossayoH[2],      &VertPossayoH[3],
                                (long*)&polysayoH->x0, (long*)&polysayoH->x1, (long*)&polysayoH->x2, (long*)&polysayoH->x3,
                                &polydepth,
                                &polyflag
                                );                              
                       
                    setUV4(polysayoH, 0, 25, 0, 255, 52, 25, 52, 255);

                    addPrim(ot[db], polysayoH);                        
                    
                    nextpri += sizeof(POLY_FT4);

                    if (fadeinNoutalpha < 200) {
                        fadeinNoutalpha++;
                    } 
                }
            break;//Sayori hanging out ! ^^ (I'm feeling miserable)
            case 6:
            	//Nothing yet
            break;
        }
        if (MovVectorpoem.vy != 150 && !isinpause) {
                polypoem = (POLY_F4 *)nextpri;                    
                
                RotMatrix(&RotVectorpoem, &PolyMatrixpoem);    
                TransMatrix(&PolyMatrixpoem, &MovVectorpoem);  
                ScaleMatrix(&PolyMatrixpoem, &ScaleVectorpoem);
                
                SetRotMatrix(&PolyMatrixpoem);                  
                SetTransMatrix(&PolyMatrixpoem);    
                
                setPolyF4(polypoem);                    

                setRGB0(polypoem, 236, 236, 236);                       
                
                RotTransPers4(
                            &VertPospoem[0],      &VertPospoem[1],      &VertPospoem[2],      &VertPospoem[3],
                            (long*)&polypoem->x0, (long*)&polypoem->x1, (long*)&polypoem->x2, (long*)&polypoem->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                addPrim(ot[db], polypoem);                        
                
                nextpri += sizeof(POLY_F4);   

        } 
        if (ispoemhere) {
            if (MovVectorpoem.vy > 0) {
                MovVectorpoem.vy -= 2;
            } else {poemfinished = true;}
            if (MovVectorpoem.vy == 148) {
            	toggletextbox = true;
                SpuSetKey(SPU_ON, SPU_02CH);
            }
        } else {
            if (MovVectorpoem.vy < 150) {
                MovVectorpoem.vy += 2;
                if (poemfinished) {poemfinished = false;}
            }
            if (MovVectorpoem.vy == 2) {
            	toggletextbox = true;
                SpuSetKey(SPU_ON, SPU_02CH);
            }
        }
        if (isbghere) {
	        if (currentimage == 9 && dokimoment && (currentscreen == 2 || currentscreen == 5)) {//Insert image for natsuki's special
	                polynatspecialdetail = (POLY_FT4 *)nextpri;                    
	                
	                RotMatrix(&RotVectornatspecialdetail, &PolyMatrixnatspecialdetail);    
	                TransMatrix(&PolyMatrixnatspecialdetail, &MovVectornatspecialdetail);  
	                ScaleMatrix(&PolyMatrixnatspecialdetail, &ScaleVectornatspecialdetail);
	                
	                SetRotMatrix(&PolyMatrixnatspecialdetail);                  
	                SetTransMatrix(&PolyMatrixnatspecialdetail);    
	                
	                setPolyFT4(polynatspecialdetail);                    

	                setRGB0(polynatspecialdetail, bgalpha, bgalpha, bgalpha);                       
	                
	                setClut(polynatspecialdetail, 960, 207);
	                
	                polynatspecialdetail->tpage = getTPage(natsukidetails.mode&0x3, 0, 320, 0);
	                
	                RotTransPers4(
	                            &VertPosnatspecialdetail[0],      &VertPosnatspecialdetail[1],      &VertPosnatspecialdetail[2],      &VertPosnatspecialdetail[3],
	                            (long*)&polynatspecialdetail->x0, (long*)&polynatspecialdetail->x1, (long*)&polynatspecialdetail->x2, (long*)&polynatspecialdetail->x3,
	                            &polydepth,
	                            &polyflag
	                            );                              
	                   
	                setUV4(polynatspecialdetail, 120, 166, 120, 255, 255, 166, 255, 255);

	                addPrim(ot[db], polynatspecialdetail);                        
	                
	                nextpri += sizeof(POLY_FT4);   

	                polynatspecial = (POLY_FT4 *)nextpri;                    
	                
	                RotMatrix(&RotVectornatspecial, &PolyMatrixnatspecial);    
	                TransMatrix(&PolyMatrixnatspecial, &MovVectornatspecial);  
	                ScaleMatrix(&PolyMatrixnatspecial, &ScaleVectornatspecial);
	                
	                SetRotMatrix(&PolyMatrixnatspecial);                  
	                SetTransMatrix(&PolyMatrixnatspecial);    
	                
	                setPolyFT4(polynatspecial);                    

	                setRGB0(polynatspecial, bgalpha, bgalpha, bgalpha);                       
	                
	                setClut(polynatspecial, 0, 498);
	                
	                polynatspecial->tpage = getTPage(BGIMAGE.mode&0x3, 0, 384, 0);
	                
	                RotTransPers4(
	                            &VertPosnatspecial[0],      &VertPosnatspecial[1],      &VertPosnatspecial[2],      &VertPosnatspecial[3],
	                            (long*)&polynatspecial->x0, (long*)&polynatspecial->x1, (long*)&polynatspecial->x2, (long*)&polynatspecial->x3,
	                            &polydepth,
	                            &polyflag
	                            );                              
	                   
	                setUV4(polynatspecial, 0, 0, 0, 238, 196, 0, 196, 238);

	                addPrim(ot[db], polynatspecial);                        
	                
	                nextpri += sizeof(POLY_FT4);   
			}
                polybg = (POLY_FT4 *)nextpri;                    
                
                RotMatrix(&RotVectorbg, &PolyMatrixbg);    
                TransMatrix(&PolyMatrixbg, &MovVectorbg);  
                ScaleMatrix(&PolyMatrixbg, &ScaleVectorbg);
                
                SetRotMatrix(&PolyMatrixbg);                  
                SetTransMatrix(&PolyMatrixbg);    
                
                setPolyFT4(polybg);                    

                setRGB0(polybg, bgalpha, bgalpha, bgalpha);                       
                
                if (usesecondimage) {
                	setClut(polybg, 0, 510);
                	polybg->tpage = getTPage(BGIMAGE.mode&0x3, 0, 512, 256);
                } else {
                	if (monikaroom && currentscreen == 3) {
	                	setClut(polybg, 0, 508);
	                	polybg->tpage = getTPage(BGIMAGE.mode&0x3, 0, 576, 0);
                	} else {
	                	setClut(polybg, 0, 511);
	                	polybg->tpage = getTPage(BGIMAGE.mode&0x3, 0, 768, 256);
                	}
                }	
                
                
                RotTransPers4(
                            &VertPosbg[0],      &VertPosbg[1],      &VertPosbg[2],      &VertPosbg[3],
                            (long*)&polybg->x0, (long*)&polybg->x1, (long*)&polybg->x2, (long*)&polybg->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                setUV4(polybg, 0, 0, 0, 238, 255, 0, 255, 238);

                addPrim(ot[db], polybg);                        
                
                nextpri += sizeof(POLY_FT4);   

                polybg2 = (POLY_FT4 *)nextpri;                    
                
                RotMatrix(&RotVectorbg2, &PolyMatrixbg2);    
                TransMatrix(&PolyMatrixbg2, &MovVectorbg2);  
                ScaleMatrix(&PolyMatrixbg2, &ScaleVectorbg);
                
                SetRotMatrix(&PolyMatrixbg2);                  
                SetTransMatrix(&PolyMatrixbg2);    
                
                setPolyFT4(polybg2);                    

                setRGB0(polybg2, bgalpha, bgalpha, bgalpha);                       

                if (usesecondimage) {
                	setClut(polybg2, 0, 510);
                	polybg2->tpage = getTPage(BGIMAGE.mode&0x3, 0, 640, 256);

                } else {
                	if (monikaroom && currentscreen == 3) {
	                	setClut(polybg2, 0, 508);
	                	polybg2->tpage = getTPage(BGIMAGE.mode&0x3, 0, 704, 0);
                	} else {
	                	setClut(polybg2, 0, 511);
	                	polybg2->tpage = getTPage(BGIMAGE.mode&0x3, 0, 896, 256);
                	}
                }	
                RotTransPers4(
                            &VertPosbg2[0],      &VertPosbg2[1],      &VertPosbg2[2],      &VertPosbg2[3],
                            (long*)&polybg2->x0, (long*)&polybg2->x1, (long*)&polybg2->x2, (long*)&polybg2->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                setUV4(polybg2, 0, 0, 0, 238, 207, 0, 207, 238);

                addPrim(ot[db], polybg2);                        
                
                nextpri += sizeof(POLY_FT4);  
	        
	        if (monikaroom){
                polybgmask31 = (POLY_FT4 *)nextpri;                    
                
                RotMatrix(&RotVectorbgmask31, &PolyMatrixbgmask31);    
                TransMatrix(&PolyMatrixbgmask31, &MovVectorbgmask31);  
                ScaleMatrix(&PolyMatrixbgmask31, &ScaleVectorbgmask31);
                
                SetRotMatrix(&PolyMatrixbgmask31);                  
                SetTransMatrix(&PolyMatrixbgmask31);    
                
                setPolyFT4(polybgmask31);                    

                setRGB0(polybgmask31, bgalpha, bgalpha, bgalpha);                       
                
                setClut(polybgmask31, 0, 509);
                polybgmask31->tpage = getTPage(BGIMAGE.mode&0x3, 0, 384, 0);

                RotTransPers4(
                            &VertPosbgmask31[0],      &VertPosbgmask31[1],      &VertPosbgmask31[2],      &VertPosbgmask31[3],
                            (long*)&polybgmask31->x0, (long*)&polybgmask31->x1, (long*)&polybgmask31->x2, (long*)&polybgmask31->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                setUV4(polybgmask31, 0, 0, 0, 206, 255, 0, 255, 206);

                addPrim(ot[db], polybgmask31);                        
                
                nextpri += sizeof(POLY_FT4);  

                polybgmask32 = (POLY_FT4 *)nextpri;                    
                
                RotMatrix(&RotVectorbgmask32, &PolyMatrixbgmask32);    
                TransMatrix(&PolyMatrixbgmask32, &MovVectorbgmask31);  
                ScaleMatrix(&PolyMatrixbgmask32, &ScaleVectorbgmask32);
                
                SetRotMatrix(&PolyMatrixbgmask32);                  
                SetTransMatrix(&PolyMatrixbgmask32);    
                
                setPolyFT4(polybgmask32);                    

                setRGB0(polybgmask32, bgalpha, bgalpha, bgalpha);                       
                
                setClut(polybgmask32, 0, 509);
                polybgmask32->tpage = getTPage(BGIMAGE.mode&0x3, 0, 512, 0);

                RotTransPers4(
                            &VertPosbgmask32[0],      &VertPosbgmask32[1],      &VertPosbgmask32[2],      &VertPosbgmask32[3],
                            (long*)&polybgmask32->x0, (long*)&polybgmask32->x1, (long*)&polybgmask32->x2, (long*)&polybgmask32->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                setUV4(polybgmask32, 0, 0, 0, 206, 207, 0, 207, 206);

                addPrim(ot[db], polybgmask32);                        
                
                nextpri += sizeof(POLY_FT4);  


                if (frameforseed % 21 == 1) {
                	if (onewaycosmos) {
	                	if (MovVectorbgmask31.vx > -175) {
	                		MovVectorbgmask31.vx--;
	                	} else {MovVectorbgmask31.vx = 70;}
                	}
                }

                polybgmask21 = (POLY_FT4 *)nextpri;                    
                
                RotMatrix(&RotVectorbgmask21, &PolyMatrixbgmask21);    
                TransMatrix(&PolyMatrixbgmask21, &MovVectorbgmask21);  
                ScaleMatrix(&PolyMatrixbgmask21, &ScaleVectorbgmask21);
                
                SetRotMatrix(&PolyMatrixbgmask21);                  
                SetTransMatrix(&PolyMatrixbgmask21);    
                
                setPolyFT4(polybgmask21);                    

                setRGB0(polybgmask21, secondlayeralpha[0], secondlayeralpha[0], secondlayeralpha[0]);                       
                
                setClut(polybgmask21, 0, 510);
                polybgmask21->tpage = getTPage(BGIMAGE.mode&0x3, 0, 512, 256);

                RotTransPers4(
                            &VertPosbgmask21[0],      &VertPosbgmask21[1],      &VertPosbgmask21[2],      &VertPosbgmask21[3],
                            (long*)&polybgmask21->x0, (long*)&polybgmask21->x1, (long*)&polybgmask21->x2, (long*)&polybgmask21->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                setUV4(polybgmask21, 0, 0, 0, 77, 255, 0, 255, 77);

                addPrim(ot[db], polybgmask21);                        
                
                nextpri += sizeof(POLY_FT4);  

                polybgmask22 = (POLY_FT4 *)nextpri;                    
                
                RotMatrix(&RotVectorbgmask22, &PolyMatrixbgmask22);    
                TransMatrix(&PolyMatrixbgmask22, &MovVectorbgmask22);  
                ScaleMatrix(&PolyMatrixbgmask22, &ScaleVectorbgmask22);
                
                SetRotMatrix(&PolyMatrixbgmask22);                  
                SetTransMatrix(&PolyMatrixbgmask22);    
                
                setPolyFT4(polybgmask22);                    

                setRGB0(polybgmask22, secondlayeralpha[1], secondlayeralpha[1], secondlayeralpha[1]);                       
                
                setClut(polybgmask22, 0, 510);
                polybgmask22->tpage = getTPage(BGIMAGE.mode&0x3, 0, 640, 256);

                RotTransPers4(
                            &VertPosbgmask22[0],      &VertPosbgmask22[1],      &VertPosbgmask22[2],      &VertPosbgmask22[3],
                            (long*)&polybgmask22->x0, (long*)&polybgmask22->x1, (long*)&polybgmask22->x2, (long*)&polybgmask22->x3,
                            &polydepth,
                            &polyflag
                            );                              
                   
                setUV4(polybgmask22, 0, 0, 0, 77, 207, 0, 207, 77);

                addPrim(ot[db], polybgmask22);                        
                
                nextpri += sizeof(POLY_FT4);  

                if (frameforseed % 3 == 1) {
                	Ran(10);
                	if (RAN == 1) {
                		if (secondlayeralpha[0] > 75) {secondlayeralpha[0] -= 5;}
                	}
                	if (RAN == 2) {
                		if (secondlayeralpha[0] < 128) {secondlayeralpha[0] += 5;}
                	}
                	if (RAN == 3) {
                		if (secondlayeralpha[1] > 75) {secondlayeralpha[1] -= 5;}
                	}
                	if (RAN == 4) {
                		if (secondlayeralpha[1] < 128) {secondlayeralpha[1] += 5;}
                	}
                }
	        }
        }
} 

//With this function, we can make (or not, depends of the vars) a textbox with (or not, depends also of the vars) the name.
void MakeTextBox(void) {
	if (showtextbox) {
	    polytextbox = (POLY_FT4 *)nextpri;                    
	    
	    RotMatrix(&RotVectortextbox, &PolyMatrixtextbox);    
	    TransMatrix(&PolyMatrixtextbox, &MovVectortextbox);  
	    ScaleMatrix(&PolyMatrixtextbox, &ScaleVectortextbox);
	    
	    SetRotMatrix(&PolyMatrixtextbox);                  
	    SetTransMatrix(&PolyMatrixtextbox);    
	    
	    setPolyFT4(polytextbox);                    

	    setRGB0(polytextbox, bgalphatextbox, bgalphatextbox, bgalphatextbox);                       
	    
	    setClut(polytextbox, 960, 205);
	    
	    polytextbox->tpage = getTPage(textbox.mode&0x3, 0, 960, 256);
	    
	    RotTransPers4(
	                &VertPostextbox[0],      &VertPostextbox[1],      &VertPostextbox[2],      &VertPostextbox[3],
	                (long*)&polytextbox->x0, (long*)&polytextbox->x1, (long*)&polytextbox->x2, (long*)&polytextbox->x3,
	                &polydepth,
	                &polyflag
	                );                              
	       
	    setUV4(polytextbox, 92, 186, 92, 242, 253, 186, 253, 242);

	    addPrim(ot[db], polytextbox);                        
	    
	    nextpri += sizeof(POLY_FT4);   

	    polytextboxinverted = (POLY_FT4 *)nextpri;                    
	    
	    RotMatrix(&RotVectortextbox, &PolyMatrixtextboxinverted);    
	    TransMatrix(&PolyMatrixtextboxinverted, &MovVectortextbox);  
	    ScaleMatrix(&PolyMatrixtextboxinverted, &ScaleVectortextbox);
	    
	    SetRotMatrix(&PolyMatrixtextboxinverted);                  
	    SetTransMatrix(&PolyMatrixtextboxinverted);    
	    
	    setPolyFT4(polytextboxinverted);                    

	    setRGB0(polytextboxinverted, bgalphatextbox, bgalphatextbox, bgalphatextbox);                       
	    
	    setClut(polytextboxinverted, 960, 205);
	    
	    polytextboxinverted->tpage = getTPage(textbox.mode&0x3, 0, 960, 256);
	    
	    RotTransPers4(
	                &VertPostextboxinverted[0],      &VertPostextboxinverted[1],      &VertPostextboxinverted[2],      &VertPostextboxinverted[3],
	                (long*)&polytextboxinverted->x0, (long*)&polytextboxinverted->x1, (long*)&polytextboxinverted->x2, (long*)&polytextboxinverted->x3,
	                &polydepth,
	                &polyflag
	                );                              
	       
	    setUV4(polytextboxinverted, 92, 186, 92, 242, 252, 186, 252, 242);

	    addPrim(ot[db], polytextboxinverted);                        
	    
	    nextpri += sizeof(POLY_FT4);  
	}

    if (showname) {
        polynamebox = (POLY_FT4 *)nextpri;                    
        
        RotMatrix(&RotVectornamebox, &PolyMatrixnamebox);    
        TransMatrix(&PolyMatrixnamebox, &MovVectornamebox);  
        ScaleMatrix(&PolyMatrixnamebox, &ScaleVectornamebox);
        
        SetRotMatrix(&PolyMatrixnamebox);                  
        SetTransMatrix(&PolyMatrixnamebox);    
        
        setPolyFT4(polynamebox);                    

        if (bgalpha < 20) {setRGB0(polynamebox, bgalphatextbox, bgalphatextbox, bgalphatextbox);} else {setRGB0(polynamebox, bgalphatextbox - 20, bgalphatextbox - 20, bgalphatextbox - 20);}                       
        
        setClut(polynamebox, 0, 503);
        
        polynamebox->tpage = getTPage(namebox.mode&0x3, 0, 960, 256);
        
        RotTransPers4(
                    &VertPosnamebox[0],      &VertPosnamebox[1],      &VertPosnamebox[2],      &VertPosnamebox[3],
                    (long*)&polynamebox->x0, (long*)&polynamebox->x1, (long*)&polynamebox->x2, (long*)&polynamebox->x3,
                    &polydepth,
                    &polyflag
                    );                              
           
        setUV4(polynamebox, 72, 0, 72, 14, 128, 0, 128, 14);

        addPrim(ot[db], polynamebox);                        
        
        nextpri += sizeof(POLY_FT4);      
    }
    if (toggletextbox) { //Mostly used with poems
        bool te = false;
        if (showtextbox == true) {//Goin' down
            if (frameforseed%7 == 1) {Yspeedtextbox++;}
            if (MovVectortextbox.vy < 80) {
                    MovVectortextbox.vy += Yspeedtextbox;
            } else {te = true;}
        } else { //Goin' up
            if (frameforseed%7 == 1) {Yspeedtextbox++;}
            if (MovVectortextbox.vy > 20) {
                    MovVectortextbox.vy += Yspeedtextbox;
            } else {te = true;}                             
        }
        if (te) {
            showtextbox = !showtextbox;
            if (showtextbox) {Yspeedtextbox = 0;} else {Yspeedtextbox = -5;}
            toggletextbox = false;    
            te = false;
        }
    }
	if (textboxlow) {
		MovVectortextbox.vy = 25;
		MovVectornamebox.vy = 16;
	} else {
		MovVectortextbox.vy = 20;
		MovVectornamebox.vy = 11;
	}
}

void createChoice(int number, int reason) {

	/*
		Used to create Choices for the player.

		"int number" is the number of choices from 1-4.

		"int reason" is the reason why you created a choice. Here's the reasons:

		1 : No reasons (will not register response) 
		2 : Doki Poem Sharing
		3 : Sayori confession (var : sayoriconfess)
		4 : Helping Doki 
		5 : Other (will register in a fixed var)
	
		reason also helps. With that, we can already set all the responsestrings.
	*/

	choices = true;
	numberchoices = number;
	choicereason = reason;

	switch(reason) {
		case 2:
            if (currentchapter == 1) {
            	sprintf(responsestrings[0], "Sayori");
            }
            sprintf(responsestrings[1], "Natsuki");
            sprintf(responsestrings[2], "Yuri");
            sprintf(responsestrings[3], "Monika");
		break;
		case 3:
            sprintf(responsestrings[0], "You will always be my dearest friend.");
            sprintf(responsestrings[1], "I love you.");
		break;
		case 4:
            sprintf(responsestrings[1], "Natsuki");
            sprintf(responsestrings[2], "Yuri");
            sprintf(responsestrings[3], "Monika");
            if (currentchapter == 1) {
            	sprintf(responsestrings[0], "Sayori...");
            }
		break;
	}
}

void choicesPrint(void) {
    switch(numberchoices) {
        case 1:
            if (currentchapter != 3) {FntPrint("\n");} 
            FntPrint("\n\n\n\n\n          %s",responsestrings[0]);
            sprintf(extraNs, "\n\n\n\n\n\n");
        break;
        case 2:
            FntPrint("\n\n\n\n          %s\n\n",responsestrings[0]);
            FntPrint("\n          %s\n\n",responsestrings[1]);
            sprintf(extraNs, "\n\n\n");
        break;
        case 3:
            FntPrint("\n\n\n          %s\n\n",responsestrings[0]);
            FntPrint("\n          %s\n\n",responsestrings[1]);
            FntPrint("\n          %s\n\n",responsestrings[2]);
            sprintf(extraNs, "\n");
        break;
        case 4:
            FntPrint("\n          %s\n\n",responsestrings[0]);
            FntPrint("\n          %s\n\n",responsestrings[1]);
            FntPrint("\n          %s\n\n",responsestrings[2]);
            FntPrint("\n          %s\n\n",responsestrings[3]);
            sprintf(extraNs, " ");
        break;
    }
}

void clearVRAM(void) {
    RECT rectTL;
    setRECT(&rectTL, 0, 0, 960, 256); //Clear all but the font
    ClearImage2(&rectTL, 0, 0, 0);
    setRECT(&rectTL, 0, 256, 1048, 256);
    ClearImage2(&rectTL, 0, 0, 0);
    DrawSync(0);
}

void createEffects(int which) {
    switch(which) {
        case 1:

        break; //Stars on the menu screen
    }
}

void changeBG(int newBG, bool isbrutal, bool keepmusic) {
	//isbrutal is for changing BG abruptly or not, keepmusic is for keeping the music looping (great for when we change bg, but not musics)

    loading = true;
    
    if (!isbrutal && bgalpha > 0) {bgalpha -= 2; bgalphatextbox -= 2; return;}
    
    int amountoload = 1;
    int timeloaded = 0;
    char thingstoload[10][20]; //Used when loading multiple things.

    if (keepmusic) {testingforunpause = soundBank.samples[sample].cursor;}

    if (currentimage != newBG) {
	    switch(newBG) {
	        case 0:
	        	sprintf(thingstoload[0], "\\WRN.TIM;1");
	        break;
	        case 1:
	        	sprintf(thingstoload[0], "\\WRN2.TIM;1");
	        break;
	        case 2:
	        	sprintf(thingstoload[0], "\\CLUB.TIM;1");
	        break;
	        case 3:
	        	sprintf(thingstoload[0], "\\NOTEBOOK.TIM;1");
	        break;
	        case 4:
	        	sprintf(thingstoload[0], "\\RESIDENT.TIM;1");
	        break;
	        case 5:
	        	if (currentscreen == 4) {
	        		amountoload = 2;
	        		sprintf(thingstoload[1], "\\SAYOBED2.TIM;1");
	        		sprintf(thingstoload[0], "\\SAYOBED.TIM;1");
	        		LoadTexture(_binary_images_GUI_special_SAYOHANGING2_tim_start, &sayori_hangingout);
	        	} else {
	        		sprintf(thingstoload[0], "\\SAYOBED.TIM;1");
	        	}
	        break;
	        case 6:
	        	sprintf(thingstoload[0], "\\KITCHEN.TIM;1");
	        break;
	        case 7:
	        	sprintf(thingstoload[0], "\\CLUBS.TIM;1");
	        break;
	        case 8:
	        	sprintf(thingstoload[0], "\\CORRIDOR.TIM;1");
	        break;
	        case 9:
	        	amountoload = 2;
	        	sprintf(thingstoload[1], "\\N_CG1_BG.TIM;1");
	        	sprintf(thingstoload[0], "\\N_CG1_BA.TIM;1");
	        break;
	        case 10:
	        	sprintf(thingstoload[0], "\\S_CG1_BG.TIM;1");
	        break;
	        case 11:
	        	sprintf(thingstoload[0], "\\HOUSE.TIM;1");
	        break;
	        case 12:
	        	sprintf(thingstoload[0], "\\CLASS.TIM;1");
	        break;
	        case 13:
	        	sprintf(thingstoload[0], "\\CLOSET.TIM;1");
	        break;
	        case 14:
	        	sprintf(thingstoload[0], "\\Y_CG1_BA.TIM;1");
	        break;
	        case 15:
	        	amountoload = 4;
	        	sprintf(thingstoload[3], "\\MASK_2.TIM;1");
	        	sprintf(thingstoload[2], "\\MASK_3.TIM;1");
	        	sprintf(thingstoload[1], "\\NOTEBOKR.TIM;1");
	        	sprintf(thingstoload[0], "\\M_BG.TIM;1");
	        break;
	        case 16:
	        	sprintf(thingstoload[0], "\\NOTEBOKR.TIM;1");
	        break;
	    }
	    	
	    while (amountoload != 0) {

	    	loadFile = thingstoload[timeloaded];

		    CdSearchFile( &filePos, loadFile);
		    dataBuffer = malloc( BtoS(filePos.size) * CD_SECTOR_SIZE );
		    CdControl(CdlSetloc, (u_char *)&filePos.pos, CtrlResult);
		    // Read data and load it to dataBuffer
		    CDreadOK = CdRead( (int)BtoS(filePos.size), (u_long *)dataBuffer, CdlModeSpeed );
		    CDreadResult = CdReadSync(0, 0);
		    LoadTexture(dataBuffer, &BGIMAGE); 
		    free(dataBuffer);

		    amountoload--;
		    timeloaded++;
	    }

	    CdSearchFile( &XAPos, loadXA);
	    soundBank.offset = CdPosToInt(&XAPos.pos);
	    XAsetup();

	    repeatsong = 1;

	    currentimage = newBG;

	    if (currentline != 0) {currentline++;}
	    
	    requestedimage = -1;

	    imagedebugger++;  

    }

	loading = false;
}

void loadBG(int newBG, bool isbrutal, bool keepmusic) {
	if (newBG == -1) {return;}
    loading = true;
    if (!isbrutal && bgalpha > 0) {bgalpha -= 2; bgalphatextbox -= 2; return;} else {changeBG(newBG, isbrutal, keepmusic);}
} //Used when making it directly on the dialogue files; requiring only one instruction, not continuously.

//Meant to be used for small details on BG (such as Natsuki sleeping)
void ChangeBGdetails(int number) {
	if (currentimage == 9) {
		switch(number) {
			case 0:
                RECT rectTL;

                setRECT(&rectTL, 360, 166, 24, 90);  
                ClearImage2(&rectTL, 0, 0, 0);
                DrawSync(0);
			break; //Nothing
			case 1:

			break;
			case 4:
				LoadTexture(_binary_images_cg_N_CG1_EXP4LIL_tim_start, &natsukidetails);
			break; //Sleep
		}
	}//Natsuki on the ground
}
			char thingtochange[3][3];
			char imageload[47];
			char dokichar[7];
			int test;

void changedokibodies(int doki, char expression[3]) {

        /*
                HOW TO USE EXPRESSION

                Exemple : "34C" for Sayori

                3 : Casual Sayori L
                4 : Casual Sayori R hand up
                C : Head Sayori talking
        */

		/* I tried to automate this process, but it doesn't seems to work. I think that's because we have to change its nature ? (char > u_long*) Or maybe the sprintf hasn't finished when calling LoadTexture, or it's because of the chars '_' not saved (?)
		switch(doki) {
			case 1:
				sprintf(dokichar, "Monika");
			break;
			case 2:
				sprintf(dokichar, "Natsuki");
			break;
			case 3:
				sprintf(dokichar, "Sayori");
			break;
			case 4:
				sprintf(dokichar, "Yuri");
			break;
		}
		for (int i = 0; i < 10; i++) {


			switch(i) {
				case 1:
					sprintf(thingtochange[0], "%cL", expression[0]);
				break; //Load left part of body
				case 2:
					sprintf(thingtochange[1], "%cR", expression[1]);
				break;//Load right part of body
			}
			sprintf(imageload, "_binary_images_characters_%s_%s_tim_start", dokichar, thingtochange[1]);
		}
		int i;
		test = 0;
		for (int i = 0; i < strlen(imageload); i++) {
			if (imageload[i] == '_') {test++;}
		}
        LoadTexture((u_long*)imageload, &Monika); //Don't care the "&Monika", it's only purpose is for the bit depth, but every parts of all the body are 8-bits
		*/



		
        switch(doki) {

                case 1:
                        switch(expression[0]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Monika_1L_tim_start, &Monika);
                                        RECT rectTL;

                                        setRECT(&rectTL, 448, 256, 25, 195);  
                                        ClearImage2(&rectTL, 0, 0, 0);
                                        DrawSync(0);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Monika_2L_tim_start, &Monika);
                                break;
                        }
                        switch(expression[1]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Monika_1R_tim_start, &Monika);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Monika_2R_tim_start, &Monika);
                                break;
                        }
                        switch(expression[2]) {
                                case 'A':
                                        LoadTexture(_binary_images_characters_Monika_A_tim_start, &Monika);
                                break;
                                case 'B':
                                        LoadTexture(_binary_images_characters_Monika_B_tim_start, &Monika);
                                break;
                                case 'D':
                                        LoadTexture(_binary_images_characters_Monika_D_tim_start, &Monika);
                                break;
                                case 'E':
                                        LoadTexture(_binary_images_characters_Monika_E_tim_start, &Monika);
                                break;
                                case 'P':
                                        LoadTexture(_binary_images_characters_Monika_P_tim_start, &Monika);
                                break;
                                case 'K':
                                        LoadTexture(_binary_images_characters_Monika_K_tim_start, &Monika);
                                break;
                                case 'R':
                                        LoadTexture(_binary_images_characters_Monika_R_tim_start, &Monika);
                                break;
                                case 'L':
                                        LoadTexture(_binary_images_characters_Monika_L_tim_start, &Monika);
                                break;
                        }

                break; //Monika

                case 2:
                        switch(expression[0]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Natsuki_1L_tim_start, &Natsuki);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Natsuki_2L_tim_start, &Natsuki);
                                break;
                                case '3':
                                        LoadTexture(_binary_images_characters_Natsuki_3L_tim_start, &Natsuki);
                                break;
                        }
                        switch(expression[1]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Natsuki_1R_tim_start, &Natsuki);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Natsuki_2R_tim_start, &Natsuki);
                                break;
                                case '3':
                                        LoadTexture(_binary_images_characters_Natsuki_3R_tim_start, &Natsuki);
                                break;
                        }
                        switch(expression[2]) {
                                case 'A':
                                        LoadTexture(_binary_images_characters_Natsuki_A_tim_start, &Natsuki);
                                break;
                                case 'C':
                                        LoadTexture(_binary_images_characters_Natsuki_C_tim_start, &Natsuki);
                                break;
                                case 'D':
                                        LoadTexture(_binary_images_characters_Natsuki_D_tim_start, &Natsuki);
                                break;
                                case 'E':
                                        LoadTexture(_binary_images_characters_Natsuki_E_tim_start, &Natsuki);
                                break;
                                case 'S':
                                        LoadTexture(_binary_images_characters_Natsuki_S_tim_start, &Natsuki);
                                break;
                                case 'K':
                                        LoadTexture(_binary_images_characters_Natsuki_K_tim_start, &Natsuki);
                                break;
                                case 'G':
                                        LoadTexture(_binary_images_characters_Natsuki_G_tim_start, &Natsuki);
                                break;
                                case 'O':
                                        LoadTexture(_binary_images_characters_Natsuki_O_tim_start, &Natsuki);
                                break;
                                case 'M':
                                        LoadTexture(_binary_images_characters_Natsuki_M_tim_start, &Natsuki);
                                break;
                                case 'P':
                                        LoadTexture(_binary_images_characters_Natsuki_P_tim_start, &Natsuki);
                                break;
                                case 'U':
                                        LoadTexture(_binary_images_characters_Natsuki_U_tim_start, &Natsuki);
                                break;
                                case 'V':
                                        LoadTexture(_binary_images_characters_Natsuki_V_tim_start, &Natsuki);
                                break;
                                case 'X':
                                        LoadTexture(_binary_images_characters_Natsuki_X_tim_start, &Natsuki);
                                break;
                                case 'Z':
                                        LoadTexture(_binary_images_characters_Natsuki_Z_tim_start, &Natsuki);
                                break;
                        }

                break; //Natsuki

                case 3:
                        switch(expression[0]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Sayori_1L_tim_start, &Sayori);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Sayori_2L_tim_start, &Sayori);
                                break;
                        }
                        switch(expression[1]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Sayori_1R_tim_start, &Sayori);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Sayori_2R_tim_start, &Sayori);
                                break;
                        }
                        switch(expression[2]) {
                                case 'A':
                                        LoadTexture(_binary_images_characters_Sayori_A_tim_start, &Sayori);
                                break;
                                case 'C':
                                        LoadTexture(_binary_images_characters_Sayori_C_tim_start, &Sayori);
                                break;
                                case 'P':
                                        LoadTexture(_binary_images_characters_Sayori_P_tim_start, &Sayori);
                                break;
                                case 'Q':
                                        LoadTexture(_binary_images_characters_Sayori_Q_tim_start, &Sayori);
                                break;
                                case 'H':
                                        LoadTexture(_binary_images_characters_Sayori_H_tim_start, &Sayori);
                                break;
                                case 'G':
                                        LoadTexture(_binary_images_characters_Sayori_G_tim_start, &Sayori);
                                break;
                                case 'R':
                                        LoadTexture(_binary_images_characters_Sayori_R_tim_start, &Sayori);
                                break;
                                case 'U':
                                        LoadTexture(_binary_images_characters_Sayori_U_tim_start, &Sayori);
                                break;
                                case 'W':
                                        LoadTexture(_binary_images_characters_Sayori_W_tim_start, &Sayori);
                                break;
                                case 'Y':
                                        LoadTexture(_binary_images_characters_Sayori_Y_tim_start, &Sayori);
                                break;
                                case 'M':
                                        LoadTexture(_binary_images_characters_Sayori_M_tim_start, &Sayori);
                                break;
                                case 'N':
                                        LoadTexture(_binary_images_characters_Sayori_N_tim_start, &Sayori);
                                break;
                                case 'J':
                                        LoadTexture(_binary_images_characters_Sayori_J_tim_start, &Sayori);
                                break;
                        }

                break; //Sayori

                case 4: //Yuri have to '11' OR '22'. The hands are not sprited correctly, because else the CLUT will fuck up.
                        switch(expression[0]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Yuri_1L_tim_start, &Yuri);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Yuri_2L_tim_start, &Yuri); //Have 1 and a half hand.
                                break;
                        }
                        switch(expression[1]) {
                                case '1':
                                        LoadTexture(_binary_images_characters_Yuri_1R_tim_start, &Yuri);
                                break;
                                case '2':
                                        LoadTexture(_binary_images_characters_Yuri_2R_tim_start, &Yuri); 
                                break;
                        }
                        switch(expression[2]) {
                                case 'A':
                                        LoadTexture(_binary_images_characters_Yuri_A_tim_start, &Yuri);
                                break;
                                case 'C':
                                        LoadTexture(_binary_images_characters_Yuri_C_tim_start, &Yuri);
                                break;
                                case 'K':
                                        LoadTexture(_binary_images_characters_Yuri_K_tim_start, &Yuri);
                                break;
                                case 'E':
                                        LoadTexture(_binary_images_characters_Yuri_E_tim_start, &Yuri);
                                break;
                                case 'U':
                                        LoadTexture(_binary_images_characters_Yuri_U_tim_start, &Yuri);
                                break;
                                case 'V':
                                        LoadTexture(_binary_images_characters_Yuri_V_tim_start, &Yuri);
                                break;
                                case 'N':
                                        LoadTexture(_binary_images_characters_Yuri_N_tim_start, &Yuri);
                                break;
                                case 'L':
                                        LoadTexture(_binary_images_characters_Yuri_L_tim_start, &Yuri);
                                break;
                                case 'F':
                                        LoadTexture(_binary_images_characters_Yuri_F_tim_start, &Yuri);
                                break;
                                case 'Q':
                                        LoadTexture(_binary_images_characters_Yuri_Q_tim_start, &Yuri);
                                break;
                                case 'I':
                                        LoadTexture(_binary_images_characters_Yuri_I_tim_start, &Yuri);
                                break;
                                case 'W':
                                        LoadTexture(_binary_images_characters_Yuri_W_tim_start, &Yuri);
                                break;
                        }

                break; //Yuri
 
        }
}

void changeDokiPos(int doki, int number, int dokisize) {
        /*
                HOW TO USE EXPRESSION

                Exemple : 4, 1, 3
        
                4 : Doki name, Yuri
                1 : First position
                3 : Number of dokis on the screen / Formation of dokis

                Other ex : 2, 2, 2

                2 : Doki name, Natsuki
                2 : Second & Last position
                2 : Number of dokis on the screen / Formation of dokis
        */

        int newXcoord;

        switch(dokisize) {
                case 1://No need of pos0, since she'll be alone
                        newXcoord = -30;
                break;

                case 2:
                        switch(number) {
                                case 1:
                                        newXcoord = -55;
                                break;

                                case 2:
                                        newXcoord = -5;

                                break;

                        }

                break;

                case 3:
                        switch(number) {
                                case 1:
                                        newXcoord = -80;
                                break;

                                case 2:
                                	newXcoord = -30;
                                break;

                                case 3:
                                        newXcoord = 10;
                                break;

                        }

                break;

                case 4:
                        switch(number) {
                                case 1:
                                        newXcoord = -80;
                                break;

                                case 2:
                                	if (currentline == 262) {
                                        newXcoord = -60;
                                	} else {newXcoord = -45;}
                                break;

                                case 3:
                                        newXcoord = -14;
                                break;

                                case 4:
                                        newXcoord = 20;
                                break;

                        }

                break;

        }

        switch(doki) {
                case 1:
                        MovVectormonibodyL.vx = newXcoord;
                break; //Monika

                case 2:
                        MovVectornatsubodyL.vx = newXcoord;
                break; //Natsuki

                case 3:
                        MovVectorsayobodyL.vx = newXcoord;
                break; //Sayori

                case 4:
                        MovVectoryuribodyL.vx = newXcoord;
                break; //Yuri

        }

}

void LoadAllTextures(void) {
    LoadTexture(_binary_images_GUI_overlay_MMLIL_tim_start, &MainMenuoverlay);
    LoadTexture(_binary_images_BG_LILSPLASH_tim_start, &logosplash);
    LoadTexture(_binary_images_GUI_LOGOLITTLE_tim_start, &gamelogo);
    LoadTexture(_binary_images_GUI_LILPARTI_tim_start, &Lilparticule);
    LoadTexture(_binary_images_GUI_MENUBGLIL_tim_start, &menuBG);
    LoadTexture(_binary_images_GUI_NATSULIL_tim_start, &menu_natsuki);
    LoadTexture(_binary_images_GUI_SAYOLIL_tim_start, &menu_sayori);
    LoadTexture(_binary_images_GUI_YULIL_tim_start, &menu_yuri);
    LoadTexture(_binary_images_GUI_special_SAYOHANGING_tim_start, &sayori_hangingout);
    LoadTexture(_binary_images_GUI_MONILIL_tim_start, &menu_monika);
    LoadTexture(_binary_images_text_new_tim_start, &newgame);
    LoadTexture(_binary_images_text_LoadGame_tim_start, &loadgame);
    LoadTexture(_binary_images_text_SaveGame_tim_start, &savegame);
    LoadTexture(_binary_images_text_setting_tim_start, &settings);
    LoadTexture(_binary_images_text_MAINMENU_tim_start, &settings);
    LoadTexture(_binary_images_text_MAINMENUSELECTED_tim_start, &settings);
    LoadTexture(_binary_images_text_END_tim_start, &end);

	if (currentchapter == 3) {
    	LoadTexture(_binary_images_BG_SPLASHBROKEN_tim_start, &logosplash);
	}
}

void LoadTextBox(void) {
    LoadTexture(_binary_images_GUI_NAMEBOXLIL_tim_start, &namebox);
    LoadTexture(_binary_images_GUI_TEXTBOXLIL_tim_start, &textbox);
}

void LoadTexturesMinigames(void) {
	if (currentchapter == 1) {LoadTexture(_binary_images_GUI_poemgame_S_STICKER_1LIL_tim_start, &poemsayori);}
	if (currentchapter < 3) {
    LoadTexture(_binary_images_GUI_poemgame_N_STICKER_1LIL_tim_start, &poemnatsuki);
    LoadTexture(_binary_images_GUI_poemgame_Y_STICKER_1LIL_tim_start, &poemyuri);
	} else {LoadTexture(_binary_images_GUI_poemgame_M_STICKER_1_tim_start, &poemmonika);}
}

void LoadAllTexturesIG(void) {
    LoadTexture(_binary_images_characters_Sayori_1R_tim_start, &Sayori);
    LoadTexture(_binary_images_characters_Sayori_1L_tim_start, &Sayori);
    LoadTexture(_binary_images_characters_Sayori_C_tim_start, &Sayori);

    LoadTexture(_binary_images_characters_Yuri_1R_tim_start, &Yuri);
    LoadTexture(_binary_images_characters_Yuri_1L_tim_start, &Yuri);
    LoadTexture(_binary_images_characters_Yuri_A_tim_start, &Yuri);

    LoadTexture(_binary_images_characters_Natsuki_1R_tim_start, &Natsuki);
    LoadTexture(_binary_images_characters_Natsuki_1L_tim_start, &Natsuki);
    LoadTexture(_binary_images_characters_Natsuki_A_tim_start, &Natsuki);

    LoadTexture(_binary_images_characters_Monika_1R_tim_start, &Monika);
    LoadTexture(_binary_images_characters_Monika_1L_tim_start, &Monika);
    LoadTexture(_binary_images_characters_Monika_A_tim_start, &Monika);
}
